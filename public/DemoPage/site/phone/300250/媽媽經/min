/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});

;/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}
function decode(s){return config.raw?s:decodeURIComponent(s);}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}
var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setTime(+t+days*864e+5);}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break;}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}
return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false;}
$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));;var _MMC_HELPER=new function(){this.window_elem=$(window);this.document_elem=$(document);this.body_elem=$('body');this.htmlbody_elem=$('html, body');this.show_cover=false;this.header_elem=$('header');this.h_notificationBar_elem=this.header_elem.find('.notification_bar');this.h_hamburger_elem=$('#hamburger');this.h_search_elem=$('#search');this.marquee_elem=$('#marquee');this.nav_elem=$('#nav');this.eventMenu_elem=$('#event_menu');this.breadcrumb_elem=$('#breadcrumb');this.wrapper_elem=$('#wrapper');this.main_elem=$('#main');this.m_article_elem=this.main_elem.find('article');this.a_mainContext_elem=this.m_article_elem.find('.main_context');this.a_mainContextFirstP_elem=this.a_mainContext_elem.find('p:first-of-type');this.a_mainContextLastP_elem=this.a_mainContext_elem.find('p:last-of-type');this.a_author_elem=this.m_article_elem.find('.m-author');this.a_editorCampaign_elem=this.m_article_elem.find('.article_editor_campaign');this.a_featured_elem=this.m_article_elem.find('.m-featured');this.a_tags_elem=this.m_article_elem.find('.m-tags');this.a_social_elem=this.m_article_elem.find('.m-social');this.a_surver_elem=$('#article-survey');this.a_chatMatch_elem=$('#article-chat_match');this.a_commentBox_elem=$('#comment_box');this.a_product_elem=$('#article_product');if(_MMC.site.channel=='learn'&&_MMC.site.type=='post'&&!_MMC.article.is_campaign){this.a_content_t=this.a_mainContext_elem.offset().top;this.a_content_h=this.a_mainContext_elem.outerHeight();}
this.sidebar_elem=$('#sidebar');this.related_box_elem=$('#related_box');this.authorRankBox_elem=$('#author_rank_box');this.pollBox_elem=$('#poll_box');this.adWrapper_elem=$('.ad_wrapper:not(.cover, .keyword)');this.footer_elem=$('#footer');this.f_toTop_elem=this.footer_elem.find('.f-extra .f-e-to_top');this.f_content_elem=this.footer_elem.find('.f-content');this.f_copyright_elem=this.f_content_elem.find('.f-c-copyright');this.author_section_elem=$('#author_section');this.nextPostBox_elem=$('#next_post_box');this.actionBar_elem=$('#action_bar');this.campaignBox_elem=$('#campaign_box');this.c_meta_elem=this.campaignBox_elem.find('.c_b-meta');this.floatingAD_elem=$('#floating_ad');this.coverAD_elem=$('#coverAD');this.forCoverAD_elem=$('#for_cover_ad');this.forInfinity_elem=(typeof _MMC!='undefined'&&typeof _MMC.article!='undefined'&&typeof _MMC.article.for_infinity!='undefined')?$(_MMC.article.for_infinity):'';this.scrollTraceList=[{elem:this.pollBox_elem,label:'媽媽大調查'},{elem:this.f_copyright_elem,label:'版權宣告'},{elem:this.f_content_elem,label:'頁尾'},{elem:this.a_featured_elem,label:'文章特色圖片'},{elem:this.breadcrumb_elem,label:'文章麵包屑'},{elem:this.a_author_elem,label:'文章作者'},{elem:this.a_mainContextFirstP_elem,label:'文章始'},{elem:this.a_mainContextLastP_elem,label:'文章末'},{elem:this.a_tags_elem,label:'文章標籤'},{elem:this.a_surver_elem,label:'是否有幫助'},{elem:this.a_chatMatch_elem,label:'大家都在討論'},{elem:this.a_editorCampaign_elem,label:'文末推廣'},{elem:this.a_social_elem,label:'文末社群分享按鈕'},{elem:this.a_commentBox_elem,label:'文章留言'},{elem:this.related_box_elem,label:'推薦閱讀'},{elem:this.nextPostBox_elem,label:'下則推廣'}];this.getTemplate=function(template_type){return $('#template_'+template_type).html();};this.replaceCRLF=function(val){return val.replace(/\r\n/g,"\n").replace(/\n\n/g,"<br /><br />").replace(/\n/g,"<br />");};this.convertTimestamp=function(time){time=time.replace(/-/g,'/');return new Date(time).getTime()/1000;};this.convertDate=function(time){var post_time=this.convertTimestamp(time);var now_time=new Date().getTime()/1000;if(now_time-post_time<60)return'剛剛';else if(now_time-post_time<3600)return parseInt((now_time-post_time)/60)+'分鐘前';else if(now_time-post_time<86400)return parseInt((now_time-post_time)/3600)+'小時前';else if(now_time-post_time<86400*3)return parseInt((now_time-post_time)/86400)+'天前';else return time.substr(0,10).replace(/\//g,'-');};this.isNumber=function(val){return(''+val).match(/^[0-9]+$/);};this.convertNumber=function(num){if(this.isNumber(num)){var number=num/10000;if(number<1){return this.formatNumber(num)+'&nbsp;';}else if(number<10000){return this.formatNumber(Math.round(number*Math.pow(10,1))/Math.pow(10,1))+'&nbsp;萬';}else{return this.formatNumber(Math.round((number/10000)*Math.pow(10,1))/Math.pow(10,1))+'&nbsp;億';}}else{return num;}};this.formatNumber=function(num){num+='';var x=num.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}
return x1+x2;};this.unFormatNumber=function(num){return num.replace(/,/g,"");};this.magicNum=function(elem,endNum){$({Counter:elem.text()}).animate({Counter:endNum},{duration:800,easing:'swing',step:function(){elem.text(Math.ceil(this.Counter));}});};this.arrayShuffle=function(array){var currentIndex=array.length,temporaryValue,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;}
return array;};this.scrollToTop=function(){_MMC_HELPER.f_toTop_elem.fadeOut();_MMC_HELPER.body_elem.addClass('disable_scroll');isUpScroll(1);this.htmlbody_elem.velocity('scroll',{delay:200,duration:900,offset:-100,easing:'easeOutCirc',mobileHA:false,complete:function(){_MMC_HELPER.body_elem.removeClass('disable_scroll');}});return;};this.scrollToPosition=function(position,time){var time=time||600;var position=position||0;this.htmlbody_elem.animate({scrollTop:position},time);return;};this.scrollToElem=function(data){data.elem=data.elem||false;if(!data.elem)return;data.wrap=data.wrap||this.htmlbody_elem;var elem=data.elem;elem.velocity('scroll',{container:data.wrap});};this.scrollToElemFront=function(elem,speed,wrap){var wrap=wrap||this.htmlbody_elem;var speed=speed||500;var elem_offset_top=elem.position().top;wrap.animate({scrollTop:elem_offset_top-50},{duration:speed,easing:'linear'});};this.scrollToElemEnd=function(elem,speed,wrap){var wrap=wrap||this.htmlbody_elem;var speed=speed||500;var elem_offset_top=elem.offset().top;var wrap_height=document.documentElement.clientHeight;var elem_height=elem[0].scrollHeight;wrap.animate({scrollTop:elem_offset_top-wrap_height+elem_height+10},{duration:speed,easing:'linear'});};this.slide2Center=function(elem,speed){var speed=speed||'';elem.addClass(speed).addClass('slide-center').removeClass('slide-right').removeClass('slide-left');};this.slide2Right=function(elem,speed){var speed=speed||'';elem.addClass(speed).addClass('slide-right').removeClass('slide-left').removeClass('slide-center');};this.slide2Left=function(elem,speed){var speed=speed||'';elem.addClass(speed).addClass('slide-left').removeClass('slide-right').removeClass('slide-center');};this.fadeOut=function(elem,speed){var speed=speed||'';$(elem).queue(function(){$(this).addClass(speed).addClass('fade-out').removeClass('fade-in');$(this).addClass('display-none');$(this).dequeue();});};this.fadeIn=function(elem,speed){var speed=speed||'';$(elem).queue(function(){$(this).removeClass('display-none');$(this).addClass(speed).addClass('fade-in').removeClass('fade-out');$(this).dequeue();});};this.isFunction=function(func){return typeof func==="function";}
this.setCookie=function(cookie,value,expires){var expires=parseInt(expires)/86400||'';$.cookie(cookie,value,{expires:expires,domain:'.mamaclub.com',path:"/"});};this.getCookie=function(cname){var name=cname+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return'';};this.removeCookie=function(cname){$.removeCookie(cname,{path:'/'});$.removeCookie(cname,{path:'/',domain:'.mamaclub.com'});};this.noScroll=function(mode){if(mode){current_scroll_position=this.body_elem.scrollTop();setTimeout(function(){_MMC_HELPER.body_elem.addClass('noscroll');},500);}else{_MMC_HELPER.body_elem.removeClass('noscroll');this.scrollToPosition(current_scroll_position,0);current_scroll_position=null;delete current_scroll_position;}};this.isset=function(obj,key){if(typeof key=='undefined')
return(typeof obj=='undefined')?'':obj;return(typeof obj[key]=='undefined')?'':obj[key];};this.isElemInView=function(elem){return elem.is(':in-viewport');};this.doLogin=function(){document.cookie="m_login_url='"+window.location.href+"';  path=/";if(location.host=='m.mamaclub.com'){LoginUrl="https://api.mamaclub.com/mmc_oauth/authorize.php?response_type=code&client_id=mmc_m_mamaclub_nfb&state=mmc_login&scope=display_name login_in user_email ID user_token show_scopes";}else if(location.host=='devm.mamaclub.com'){LoginUrl="https://api.mamaclub.com/mmc_oauth/authorize.php?response_type=code&client_id=mmc_m_mamaclub_dev_nfb&state=mmc_login&scope=display_name login_in user_email ID user_token show_scopes";}else{LoginUrl="https://api.mamaclub.com/mmc_oauth/authorize.php?response_type=code&client_id=mmc_m_mamaclub_local_nfb&state=mmc_login&scope=display_name login_in user_email ID user_token show_scopes";}
window.location=LoginUrl;}
this.scrollTrace=function(elem,label){if(this.isElemInView(elem)){if(!elem.hasClass('traced')){if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post')gaEventTrace(label+'_'+_MMC.article.main_cat.term_id,'捲動_學知識_文章頁');else if(_MMC.site.type=='author')gaEventTrace(label,'捲動_學知識_作者頁');else if(_MMC.site.type=='page')gaEventTrace(label,'捲動_學知識_其它頁');else gaEventTrace(label,'捲動_學知識');}else if(_MMC.site.channel=='event'){gaEventTrace(label,'捲動_玩活動');}
elem.addClass('traced');}
return true;}
return;};this.removeA=function(arr){var what,a=arguments,L=a.length,ax;while(L>1&&arr.length){what=a[--L];while((ax=arr.indexOf(what))!==-1){arr.splice(ax,1);}}
return arr;};this.getParameterByName=function(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}
this.stickWithFooter=function(elem){var elem_position_value=elem.offset().top+elem.height();if(elem_position_value>=footer_top_value)elem.addClass('position-relative');if(elem.hasClass('position-relative')&&!this.isElemInView(this.f_content_elem))elem.removeClass('position-relative');return;};this.updateBrowserUrl=function(path){history.replaceState({},'',path);return;};this.updateBrowserTitle=function(title){if(document.title!=title)document.title=title;return;};this.detectArticlePercent=function(st){this.m_article_elem.addClass('read_percent_ready');var view_h,article_t,article_screen_h,article_read_calculate,article_read_percent=0;view_h=st+_MMC.site.screenHeight;article_t=this.a_content_t;article_screen_h=view_h-article_t;article_read_calculate=(article_screen_h/this.a_content_h)*100;article_read_percent;if(view_h>article_t){this.m_article_elem.removeClass('read_percent_ready').addClass('read_percent_track');if(article_read_calculate>0&&article_read_calculate<10){article_read_percent=0;}else if(article_read_calculate>10&&article_read_calculate<20){article_read_percent=10;}else if(article_read_calculate>20&&article_read_calculate<30){article_read_percent=20;}else if(article_read_calculate>30&&article_read_calculate<40){article_read_percent=30;}else if(article_read_calculate>40&&article_read_calculate<50){article_read_percent=40;}else if(article_read_calculate>50&&article_read_calculate<60){article_read_percent=50;}else if(article_read_calculate>60&&article_read_calculate<70){article_read_percent=60;}else if(article_read_calculate>70&&article_read_calculate<80){article_read_percent=70;}else if(article_read_calculate>80&&article_read_calculate<90){article_read_percent=80;}else if(article_read_calculate>90&&article_read_calculate<100){article_read_percent=90;}else if(article_read_calculate>=99){article_read_percent=100;}
this.m_article_elem.attr('data-read-percent',article_read_percent);if(article_read_percent==100){this.m_article_elem.removeClass('read_percent_track').addClass('read_percent_complete');this.trackReadPercent();}}};this.trackReadPercent=function(){if(!(_MMC.site.channel=='learn'&&_MMC.site.type=='post')||this.m_article_elem.hasClass('read_percent_tracked'))return;var read_percent=this.m_article_elem.attr('data-read-percent');this.m_article_elem.addClass('read_percent_tracked');}
this.finishLoading=function(){if(this.getCookie('after_fb_login')!=''&&typeof _MMC!='undefined')gaEventTrace('FB登入-'+_MMC.user.id,'使用者相關');this.removeCookie('after_fb_login');this.body_elem.removeClass('loading');console.log('%c!NIMI','color:#ddd;padding-left:9px;font-weight:bolder;');};this.recordReadPer=function(id,read_percent){var host_name='mamaclub.com';if(_MMC.site.env=='local')host_name='local.mamaclub.com';if(_MMC.site.env=='develop')host_name='dev.mamaclub.com';$.ajax({method:"GET",url:"/api/record_read_pre/record/"+id+'?record_read_pre='+read_percent}).done(function(msg){});}};Date.prototype.format=function(e){var t="";var n=Date.replaceChars;for(var r=0;r<e.length;r++){var i=e.charAt(r);if(r-1>=0&&e.charAt(r-1)=="\\"){t+=i}else if(n[i]){t+=n[i].call(this)}else if(i!="\\"){t+=i}}return t};Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&this.getDate()!=11?"st":this.getDate()%10==2&&this.getDate()!=12?"nd":this.getDate()%10==3&&this.getDate()!=13?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return(new Date(e.getFullYear(),e.getMonth(),0)).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());e.setDate(e.getDate()-(this.getDay()+6)%7+3);return e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return"Not Yet Supported"},I:function(){var e=null;for(var t=0;t<12;++t){var n=new Date(this.getFullYear(),t,1);var r=n.getTimezoneOffset();if(e===null)e=r;else if(r<e){e=r;break}else if(r>e)break}return this.getTimezoneOffset()==e|0},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var e=this.getMonth();this.setMonth(0);var t=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(e);return t},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};;_MMC_HELPER.header_elem.on('click','.h-nav .h-n-right.header-hamburger',function(){_MMC_HELPER.slide2Center(_MMC_HELPER.h_hamburger_elem);gaEventTrace('開啟隱藏選單','導航列');});_MMC_HELPER.h_hamburger_elem.on('click','.si-back',function(){_MMC_HELPER.slide2Right(_MMC_HELPER.h_hamburger_elem);gaEventTrace('關閉隱藏選單','導航列');});_MMC_HELPER.h_hamburger_elem.on('click','.l_c-location .l_c-l-text',function(){var ic=$(this).attr('data-value');_MMC_HELPER.setCookie('__ic',ic);gaEventTrace('切換地區 '+_MMC.site.ic+'-'+ic,'導航列');location.reload();});_MMC_HELPER.h_hamburger_elem.on('click','.si-m-item.profile a',function(){gaEventTrace('帳號管理-'+_MMC.user.id,'導航列-隱藏選單');});_MMC_HELPER.h_hamburger_elem.on('click','.si-menu .si-m-others > .item.fold i',function(){var item_elem=$(this).parents('.item.fold');var item_id=item_elem.attr('data-id');var item_name=$.trim(item_elem.find('.si-m-i-text a').html());item_elem.removeClass('fold').addClass('unfold');item_elem.find('.menu').slideDown(150,'linear');gaEventTrace('打開 '+item_name+'('+item_id+') 階層','導航列-隱藏選單');});_MMC_HELPER.h_hamburger_elem.on('click','.si-menu .si-m-others > .item.unfold i',function(){var item_elem=$(this).parents('.item.unfold');var item_id=item_elem.attr('data-id');var item_name=$.trim(item_elem.find('.si-m-i-text a').html());item_elem.removeClass('unfold').addClass('fold');item_elem.find('.menu').slideUp(150,'linear');gaEventTrace('關閉 '+item_name+'('+item_id+') 階層','導航列-隱藏選單');});_MMC_HELPER.h_hamburger_elem.on('click','.si-menu .si-m-item a',function(){var item_id=$(this).closest('.item').attr('data-id');var item_name=$.trim($(this).html());if(typeof item_id!='undefined')item_name+='('+item_id+')';gaEventTrace(item_name,'導航列-隱藏選單');});_MMC_HELPER.h_hamburger_elem.on('click','.si-menu .si-m-item.login .call_login',function(){var item_name='加入媽媽經';gaEventTrace(item_name,'導航列-隱藏選單');});_MMC_HELPER.header_elem.on('click','.h-nav .h-n-left.header-search',function(){_MMC_HELPER.slide2Center(_MMC_HELPER.h_search_elem);var ad_keyword=$('.se-keyword');if(!ad_keyword.hasClass('traced')){if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post'){gaEventTrace('熱字_'+_MMC.article.main_cat.term_id,'捲動_學知識_文章頁');}else if(_MMC.site.type=='author'){gaEventTrace('熱字','捲動_學知識_作者頁');}}
ad_keyword.addClass('traced');}
gaEventTrace('開啟搜尋列','導航列');});_MMC_HELPER.h_search_elem.on('click','.se-back, .se-background',function(){_MMC_HELPER.slide2Left(_MMC_HELPER.h_search_elem);gaEventTrace('關閉搜尋列','導航列');});_MMC_HELPER.h_search_elem.on('keyup','.search_text',function(){var submit_elem=$('#search_submit');if($(this).val()!='')submit_elem.removeClass('disable');else submit_elem.addClass('disable');});_MMC_HELPER.h_search_elem.on('click','.search_submit:not(.disable)',function(){var search_text=$.trim($('#search_text').val());gaEventTrace('搜尋文字: '+search_text,'導航列-搜尋');location.href='/search/'+encodeURIComponent(search_text);});_MMC_HELPER.header_elem.on('click','.h-nav .h-n-middle.header-logo',function(){gaEventTrace('LOGO首頁','導航列');});if(_MMC_HELPER.h_notificationBar_elem.length){if(_MMC_HELPER.h_notificationBar_elem.html!=''){var key=_MMC_HELPER.h_notificationBar_elem.find('.n_b-box').attr('data-key');if(key)gaEventTrace('曝光-'+key,'通知列');}}
_MMC_HELPER.header_elem.on('click','.notification_bar .n_b-b-close',function(){var elem=$(this).parents('.n_b-box');var key=elem.attr('data-key');var c_name=_MMC.notification.items[key].cookie_name;var c_time=_MMC.notification.items[key].cookie_time;_MMC_HELPER.body_elem.removeClass('have_notification');elem.velocity('slideUp',{duration:200});_MMC_HELPER.setCookie(c_name,1,c_time);gaEventTrace('關閉-'+key,'通知列');});_MMC_HELPER.header_elem.on('click','.notification_bar .n_b-b-content a',function(){var title=$(this).parents('.n_b-box').attr('data-key');gaEventTrace('連結-'+title,'通知列');});var getMenu=function(){var url='/api/nav-menu?__r='+(new Date()).getTime();$.ajax({url:url,dataType:'json',success:renderMenu,error:menuErrorHandle});};var renderMenu=function(menu){var template_menu='';if(typeof menu!='undefined'&&menu.length>1){for(var i=0;i<menu.length;i++){template_menu+=addMenuItem(menu[i]);}}
if(_MMC.hamburger_menu.before.length>0){var menu_before='';for(var i=0;i<_MMC.hamburger_menu.before.length;i++){menu_before+=addMenuItem(_MMC.hamburger_menu.before[i]);}
menu_before+=template_menu;template_menu=menu_before;}
if(_MMC.hamburger_menu.after.length>0){var menu_after='';for(var i=0;i<_MMC.hamburger_menu.after.length;i++){menu_after+=addMenuItem(_MMC.hamburger_menu.after[i]);}
template_menu+=menu_after;}
_MMC_HELPER.h_hamburger_elem.find('.si-menu .si-m-others').html(template_menu);};var addMenuItem=function(item){var nav_parent_id=(typeof item.id=='undefined')?'':item.id;var nav_parent_link=(item.url!='')?item.url:'javascript:;';var nav_parent_text=item.title;var nav_have_child=(typeof item.child!='undefined')?((item.child.length>0)?true:false):false;var nav_parent_class=(typeof item.class==='undefined')?'':item.class;if(typeof _MMC.article_editor_campaign!='undefined'&&_MMC.article_editor_campaign.mode&&nav_parent_id==_MMC.article_editor_campaign.in_hamburger.id){nav_parent_link=_MMC.article_editor_campaign.in_hamburger.link;nav_parent_text=_MMC.article_editor_campaign.in_hamburger.text;}
var template_item=_MMC_HELPER.getTemplate('nav_menu');template_item=template_item.replace(/\[NAV_PARENT_ID\]/g,nav_parent_id);template_item=template_item.replace(/\[NAV_PARENT_LINK\]/g,nav_parent_link);template_item=template_item.replace(/\[NAV_PARENT_CLASS\]/g,nav_parent_class);template_item=template_item.replace(/\[NAV_PARENT\]/g,nav_parent_text);template_item=template_item.replace(/\[NAV_HAVE_CHILD\]/g,(nav_have_child)?'fold':'have_no_child');template_item=template_item.replace(/data\-href/g,'href');template_item=template_item.replace(/amigo/g,'a');var template_item_child=_MMC_HELPER.getTemplate('nav_menu_child');var menu_child="";if(nav_have_child){for(var j=0;j<item.child.length;j++){var template_item_child1=template_item_child;var nav_child_id=(typeof item.child[j].id=='undefined')?'':item.child[j].id;var nav_child_link=item.child[j].url;var nav_child_text=item.child[j].title;var nav_child_class=(typeof item.child[j].class=='undefined')?'':item.child[j].class;template_item_child1=template_item_child1.replace(/\[NAV_CHILD_ID\]/g,nav_child_id);template_item_child1=template_item_child1.replace(/\[NAV_CHILD_LINK\]/g,nav_child_link);template_item_child1=template_item_child1.replace(/\[NAV_CHILD_CLASS\]/g,nav_child_class);template_item_child1=template_item_child1.replace(/\[NAV_CHILD\]/g,nav_child_text);template_item_child1=template_item_child1.replace(/data\-href/g,'href');template_item_child1=template_item_child1.replace(/amigo/g,'a');menu_child+=template_item_child1;}}
template_item=template_item.replace(/\[NAV_MENU_CHILD\]/g,menu_child);return template_item;};var menuErrorHandle=function(response){console.log("ERRORMENU");console.log(response);return;};;var getArticleLikeST=function(p_id){var url='/api/like/status';$.ajax({url:url,dataType:'json',type:'post',data:{'ids':p_id},success:renderArticleLikeST,error:userAdditionErrorHandle});}
var renderArticleLikeST=function(status){var current_st=status.status[_MMC.article.post_id];var total=status.total[_MMC.article.post_id];if(_MMC.site.channel=='learn'&&_MMC.site.type=='post'){_MMC_HELPER.a_social_elem.find('.m-s-s-like').attr('data-like',current_st).attr('data-like-total',total);}
return;};var updateArticleLike=function(p_id,like_st){var action=(like_st==0)?'add':'del';var url='/api/like/update?post_id='+p_id+'&action='+action+'&__r='+(new Date()).getTime();$.ajax({url:url,success:likeUpdated,error:userAdditionErrorHandle});}
var likeUpdated=function(response){return;};var getArticleFavoriteST=function(p_id){var url='/api/favorite?ids='+p_id;$.ajax({url:url,dataType:'json',type:'post',data:{'m':'select','posts':p_id},success:renderArticleFavoriteST,error:userAdditionErrorHandle})}
var renderArticleFavoriteST=function(status){if(status.msg=="user no logged in")
return;var p_id=this.url.match(/ids=([\w]+)/);p_id=(p_id!=null)?p_id[1]:'';var current_st=(status.data[p_id])?1:0;if(_MMC.site.channel=='learn'&&_MMC.site.type=='post'){_MMC_HELPER.a_social_elem.find('.m-s-s-favorite').attr('data-favorite',current_st);}
return;};var updateArticleFavorite=function(p_id,st){var action=(st==0)?'add':'remove';var url='/api/favorite';$.ajax({url:url,dataType:'json',type:'post',data:{'m':action,'posts':p_id},success:favoriteUpdated,error:userAdditionErrorHandle})}
var favoriteUpdated=function(response){return;};var getAuthorFollowST=function(a_id){var url='/api/follow/status';$.ajax({url:url,dataType:'json',type:'post',data:{'ids':a_id},success:renderAuthorFollowST,error:userAdditionErrorHandle});}
var renderAuthorFollowST=function(status){var current_st,total;if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post'){current_st=status.status[_MMC.article.author_id];total=status.total[_MMC.article.author_id];_MMC_HELPER.a_author_elem.find('.m-a-follow').attr('data-follow',current_st).attr('data-follow-total',total);_MMC_HELPER.a_author_elem.find('.m-a-follow .m-a-f-b-total').attr('data-follow-total',total);_MMC_HELPER.fadeIn(_MMC_HELPER.a_author_elem.find('.m-a-follow'));}else if(_MMC.site.type=='author'){current_st=status.status[_MMC.author.id];total=status.total[_MMC.author.id];_MMC_HELPER.author_section_elem.find('.author_header .a_h-i-d-follow').attr('data-follow',current_st).addClass('done');}}
return;};var updateAuthorFollow=function(a_id,st){var action=(st==0)?'add':'del';var url='/api/follow/update?author_id='+a_id+'&action='+action+'&__r='+(new Date()).getTime();$.ajax({url:url,success:followUpdated,error:userAdditionErrorHandle});}
var followUpdated=function(response){return;};var userAdditionErrorHandle=function(response){if(response.responseText=="user is not login"){if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post'){_MMC_HELPER.fadeIn(_MMC_HELPER.a_author_elem.find('.m-a-follow'));}else if(_MMC.site.type=='author'){}}
return;}
console.log("ERRORUSERADDITION");console.log(response);return;}
if(_MMC.user.is_login){var avatar_image=new Image;avatar_image.onload=function(){$('#user-avatar').attr('src',this.src);};avatar_image.onerror=function(){$('#user-avatar').attr('src','/assets/global/images/default-avatar.jpg');}
avatar_image.src='//cdn.mamaclub.com/wp-content/uploads/avator/'+_MMC.user.id+'.jpg';}
;/*! source:http://www.appelsiini.net/projects/viewport */
$.belowthefold=function(element,settings){var fold=$(window).height()+$(window).scrollTop();return fold<=$(element).offset().top-settings.threshold;};$.abovethetop=function(element,settings){var top=$(window).scrollTop();return top>=$(element).offset().top+$(element).height()-settings.threshold;};$.rightofscreen=function(element,settings){var fold=$(window).width()+$(window).scrollLeft();return fold<=$(element).offset().left-settings.threshold;};$.leftofscreen=function(element,settings){var left=$(window).scrollLeft();return left>=$(element).offset().left+$(element).width()-settings.threshold;};$.inviewport=function(element,settings){return!$.rightofscreen(element,settings)&&!$.leftofscreen(element,settings)&&!$.belowthefold(element,settings)&&!$.abovethetop(element,settings);};$.extend($.expr[':'],{"below-the-fold":function(a,i,m){return $.belowthefold(a,{threshold:0});},"above-the-top":function(a,i,m){return $.abovethetop(a,{threshold:0});},"left-of-screen":function(a,i,m){return $.leftofscreen(a,{threshold:0});},"right-of-screen":function(a,i,m){return $.rightofscreen(a,{threshold:0});},"in-viewport":function(a,i,m){return $.inviewport(a,{threshold:0});}});
;
;/*! VelocityJS.org (1.3.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(a){"use strict";function b(a){var b=a.length,d=c.type(a);return"function"!==d&&!c.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a))}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return a&&a===a.window},c.type=function(a){return a?"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a:a+""},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;f<g&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;f<g&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var h=a[c.expando]||(a[c.expando]=++c.uuid);return d[h]=d[h]||{},d[h][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&(b?c.each(b,function(a,b){delete f[b]}):delete d[e])},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);i<j;i++)if(f=arguments[i])for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(a){for(var b=a.offsetParent||document;b&&"html"!==b.nodeType.toLowerCase&&"static"===b.style.position;)b=b.offsetParent;return b||document}var b=this[0],d=a(b),e=this.offset(),f=/^(?:body|html)$/i.test(d.nodeName)?{top:0,left:0}:c(d).offset();return e.top-=parseFloat(b.style.marginTop)||0,e.left-=parseFloat(b.style.marginLeft)||0,d.style&&(f.top+=parseFloat(d.style.borderTopWidth)||0,f.left+=parseFloat(d.style.borderLeftWidth)||0),{top:e.top-f.top,left:e.left-f.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return p.isWrapped(a)?a=[].slice.call(a):p.isNode(a)&&(a=[a]),a}function g(a){var b=m.data(a,"velocity");return null===b?d:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;e<p;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;b<t;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!==f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0===i?h:m(b,c,c+u)}function o(){y=!0,a===c&&d===e||l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function j(a,b){var c=a;return p.isString(a)?t.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?h.apply(null,a):p.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):!(!p.isArray(a)||4!==a.length)&&i.apply(null,a),c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:s),c}function k(a){if(a){var b=(new Date).getTime(),c=t.State.calls.length;c>1e4&&(t.State.calls=e(t.State.calls),c=t.State.calls.length);for(var f=0;f<c;f++)if(t.State.calls[f]){var h=t.State.calls[f],i=h[0],j=h[2],n=h[3],o=!!n,q=null;n||(n=t.State.calls[f][3]=b-16);for(var r=Math.min((b-n)/j.duration,1),s=0,u=i.length;s<u;s++){var w=i[s],y=w.element;if(g(y)){var z=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var A=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(A,function(a,b){v.setPropertyValue(y,"display",b)})}v.setPropertyValue(y,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&v.setPropertyValue(y,"visibility",j.visibility);for(var B in w)if("element"!==B){var C,D=w[B],E=p.isString(D.easing)?t.Easings[D.easing]:D.easing;if(1===r)C=D.endValue;else{var F=D.endValue-D.startValue;if(C=D.startValue+F*E(r,j,F),!o&&C===D.currentValue)continue}if(D.currentValue=C,"tween"===B)q=C;else{var G;if(v.Hooks.registered[B]){G=v.Hooks.getRoot(B);var H=g(y).rootPropertyValueCache[G];H&&(D.rootPropertyValue=H)}var I=v.setPropertyValue(y,B,D.currentValue+(0===parseFloat(C)?"":D.unitType),D.rootPropertyValue,D.scrollData);v.Hooks.registered[B]&&(v.Normalizations.registered[G]?g(y).rootPropertyValueCache[G]=v.Normalizations.registered[G]("extract",null,I[1]):g(y).rootPropertyValueCache[G]=I[1]),"transform"===I[0]&&(z=!0)}}j.mobileHA&&g(y).transformCache.translate3d===d&&(g(y).transformCache.translate3d="(0px, 0px, 0px)",z=!0),z&&v.flushTransformCache(y)}}j.display!==d&&"none"!==j.display&&(t.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(t.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],r,Math.max(0,n+j.duration-b),n,q),1===r&&l(f)}}t.State.isTicking&&x(k)}function l(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;j<k;j++){var l=c[j].element;b||f.loop||("none"===f.display&&v.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&v.setPropertyValue(l,"visibility",f.visibility));var n=g(l);if(f.loop!==!0&&(m.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(m.queue(l)[1]))&&n){n.isAnimating=!1,n.rootPropertyValueCache={};var o=!1;m.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=n.transformCache[b];n.transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(o=!0,delete n.transformCache[b])}),f.mobileHA&&(o=!0,delete n.transformCache.translate3d),o&&v.flushTransformCache(l),v.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(p){setTimeout(function(){throw p},1)}h&&f.loop!==!0&&h(e),n&&f.loop===!0&&!b&&(m.each(n.tweensContainer,function(a,b){if(/^rotate/.test(a)&&(parseFloat(b.startValue)-parseFloat(b.endValue))%360===0){var c=b.startValue;b.startValue=b.endValue,b.endValue=c}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),t(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&m.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var q=0,r=t.State.calls.length;q<r;q++)if(t.State.calls[q]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var m,n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),o=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},q=!1;if(a.fn&&a.fn.jquery?(m=a,q=!0):m=b.Velocity.Utilities,n<=8&&!q)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(n<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var r=400,s="swing",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:r,easing:s,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){m.data(a,"velocity",{isSVG:p.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,patch:0},debug:!1};b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop");var u=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])});var v=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<v.Lists.colors.length;a++){var b="color"===v.Lists.colors[a]?"0 0 0 1":"255 255 255 1";v.Hooks.templates[v.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(n)for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(v.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),v.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");for(var g in e){var h=c+e[g],i=g;v.Hooks.registered[h]=[c,i]}}},getRoot:function(a){var b=v.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return v.RegEx.valueUnwrap.test(b)&&(b=b.match(v.RegEx.valueUnwrap)[1]),v.Values.isCSSNullValue(b)&&(b=v.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=v.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=v.Hooks.cleanRootPropertyValue(d,b),b.toString().match(v.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=v.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=v.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(v.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return v.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(v.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return t.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(n<=8)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){n&&!(n>9)||t.State.isGingerbread||(v.Lists.transformsBase=v.Lists.transformsBase.concat(v.Lists.transforms3D));for(var a=0;a<v.Lists.transformsBase.length;a++)!function(){var b=v.Lists.transformsBase[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===d&&e<1&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}}();for(var b=0;b<v.Lists.colors.length;b++)!function(){var a=v.Lists.colors[b];v.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return a;case"extract":var f;if(v.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:v.RegEx.isHex.test(e)?g="rgb("+v.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!n||n>8)&&3===f.split(" ").length&&(f+=" 1"),f;case"inject":return n<=8?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(n<=8?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(n||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;c<d;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),p.isString(t.State.prefixElement.style[e]))return t.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){var e=0;if(n<=8)e=m.css(a,c);else{var i=!1;/^(width|height)$/.test(c)&&0===v.getPropertyValue(a,"display")&&(i=!0,v.setPropertyValue(a,"display",v.Values.getDisplayType(a)));var j=function(){i&&v.setPropertyValue(a,"display","none")};if(!f){if("height"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(v.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(v.getPropertyValue(a,"paddingBottom"))||0);return j(),k}if("width"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(v.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(v.getPropertyValue(a,"paddingRight"))||0);return j(),l}}var o;o=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),e=9===n&&"filter"===c?o.getPropertyValue(c):o[c],""!==e&&null!==e||(e=a.style[c]),j()}if("auto"===e&&/^(top|right|bottom|left)$/i.test(c)){var p=h(a,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(c))&&(e=m(a).position()[c]+"px")}return e}var i;if(v.Hooks.registered[c]){var j=c,k=v.Hooks.getRoot(j);e===d&&(e=v.getPropertyValue(a,v.Names.prefixCheck(k)[0])),v.Normalizations.registered[k]&&(e=v.Normalizations.registered[k]("extract",a,e)),i=v.Hooks.extractValue(j,e)}else if(v.Normalizations.registered[c]){var l,o;l=v.Normalizations.registered[c]("name",a),"transform"!==l&&(o=h(a,v.Names.prefixCheck(l)[0]),v.Values.isCSSNullValue(o)&&v.Hooks.templates[c]&&(o=v.Hooks.templates[c][1])),i=v.Normalizations.registered[c]("extract",a,o)}if(!/^[\d-]/.test(i)){var p=g(a);if(p&&p.isSVG&&v.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(q){i=0}else i=a.getAttribute(c);else i=h(a,v.Names.prefixCheck(c)[0])}return v.Values.isCSSNullValue(i)&&(i=0),t.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(v.Normalizations.registered[c]&&"transform"===v.Normalizations.registered[c]("name",a))v.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(v.Hooks.registered[c]){var i=c,j=v.Hooks.getRoot(c);e=e||v.getPropertyValue(a,j),d=v.Hooks.injectValue(i,d,e),c=j}if(v.Normalizations.registered[c]&&(d=v.Normalizations.registered[c]("inject",a,d),c=v.Normalizations.registered[c]("name",a)),h=v.Names.prefixCheck(c)[0],n<=8)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else{var l=g(a);l&&l.isSVG&&v.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d}t.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){var b="",c=g(a);if((n||t.State.isAndroid&&!t.State.isChrome)&&c&&c.isSVG){var d=function(b){return parseFloat(v.getPropertyValue(a,b))},e={translate:[d("translateX"),d("translateY")],skewX:[d("skewX")],skewY:[d("skewY")],scale:1!==d("scale")?[d("scale"),d("scale")]:[d("scaleX"),d("scaleY")],rotate:[d("rotateZ"),0,0]};m.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),e[a]&&(b+=a+"("+e[a].join(" ")+") ",delete e[a])})}else{var f,h;m.each(g(a).transformCache,function(c){return f=g(a).transformCache[c],"transformPerspective"===c?(h=f,!0):(9===n&&"rotateZ"===c&&(c="rotate"),void(b+=c+f+" "))}),h&&(b="perspective"+h+" "+b)}v.setPropertyValue(a,"transform",b)}};v.Hooks.register(),v.Normalizations.register(),t.hook=function(a,b,c){var e;return a=f(a),m.each(a,function(a,f){if(g(f)===d&&t.init(f),c===d)e===d&&(e=t.CSS.getPropertyValue(f,b));else{var h=t.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&t.CSS.flushTransformCache(f),e=h}}),e};var w=function(){function a(){return i?C.promise||null:n}function e(a,e){function f(f){var n,o;if(i.begin&&0===z)try{i.begin.call(q,q)}catch(r){setTimeout(function(){throw r},1)}if("scroll"===D){var w,x,A,B=/^x$/i.test(i.axis)?"Left":"Top",E=parseFloat(i.offset)||0;i.container?p.isWrapped(i.container)||p.isNode(i.container)?(i.container=i.container[0]||i.container,w=i.container["scroll"+B],A=w+m(a).position()[B.toLowerCase()]+E):i.container=null:(w=t.State.scrollAnchor[t.State["scrollProperty"+B]],x=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===B?"Top":"Left")]],A=m(a).offset()[B.toLowerCase()]+E),l={scroll:{rootPropertyValue:!1,startValue:w,currentValue:w,endValue:A,unitType:"",easing:i.easing,scrollData:{container:i.container,direction:B,alternateValue:x}},element:a},t.debug&&console.log("tweensContainer (scroll): ",l.scroll,a)}else if("reverse"===D){if(n=g(a),!n)return;if(!n.tweensContainer)return void m.dequeue(a,i.queue);"none"===n.opts.display&&(n.opts.display="auto"),"hidden"===n.opts.visibility&&(n.opts.visibility="visible"),n.opts.loop=!1,n.opts.begin=null,n.opts.complete=null,u.easing||delete i.easing,u.duration||delete i.duration,i=m.extend({},n.opts,i),o=m.extend(!0,{},n?n.tweensContainer:null);for(var F in o)if("element"!==F){var G=o[F].startValue;o[F].startValue=o[F].currentValue=o[F].endValue,o[F].endValue=G,p.isEmptyObject(u)||(o[F].easing=i.easing),t.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(o[F]),a)}l=o}else if("start"===D){n=g(a),n&&n.tweensContainer&&n.isAnimating===!0&&(o=n.tweensContainer);var H=function(b,c){var f,g,h;return p.isArray(b)?(f=b[0],!p.isArray(b[1])&&/^[\d-]/.test(b[1])||p.isFunction(b[1])||v.RegEx.isHex.test(b[1])?h=b[1]:(p.isString(b[1])&&!v.RegEx.isHex.test(b[1])||p.isArray(b[1]))&&(g=c?b[1]:j(b[1],i.duration),b[2]!==d&&(h=b[2]))):f=b,c||(g=g||i.easing),p.isFunction(f)&&(f=f.call(a,e,y)),p.isFunction(h)&&(h=h.call(a,e,y)),[f||0,g,h]};m.each(s,function(a,b){if(RegExp("^"+v.Lists.colors.join("$|^")+"$").test(v.Names.camelCase(a))){var c=H(b,!0),e=c[0],f=c[1],g=c[2];if(v.RegEx.isHex.test(e)){for(var h=["Red","Green","Blue"],i=v.Values.hexToRgb(e),j=g?v.Values.hexToRgb(g):d,k=0;k<h.length;k++){var l=[i[k]];f&&l.push(f),j!==d&&l.push(j[k]),s[v.Names.camelCase(a)+h[k]]=l}delete s[a]}}});for(var K in s){var L=H(s[K]),M=L[0],N=L[1],O=L[2];K=v.Names.camelCase(K);var P=v.Hooks.getRoot(K),Q=!1;if(n&&n.isSVG||"tween"===P||v.Names.prefixCheck(P)[1]!==!1||v.Normalizations.registered[P]!==d){(i.display!==d&&null!==i.display&&"none"!==i.display||i.visibility!==d&&"hidden"!==i.visibility)&&/opacity|filter/.test(K)&&!O&&0!==M&&(O=0),i._cacheValues&&o&&o[K]?(O===d&&(O=o[K].endValue+o[K].unitType),Q=n.rootPropertyValueCache[P]):v.Hooks.registered[K]?O===d?(Q=v.getPropertyValue(a,P),O=v.getPropertyValue(a,K,Q)):Q=v.Hooks.templates[P][1]:O===d&&(O=v.getPropertyValue(a,K));var R,S,T,U=!1,V=function(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=v.Values.getUnitType(a)),[d,c]};R=V(K,O),O=R[0],T=R[1],R=V(K,M),M=R[0].replace(/^([+-\/*])=/,function(a,b){return U=b,""}),S=R[1],O=parseFloat(O)||0,M=parseFloat(M)||0,"%"===S&&(/^(fontSize|lineHeight)$/.test(K)?(M/=100,S="em"):/^scale/.test(K)?(M/=100,S=""):/(Red|Green|Blue)$/i.test(K)&&(M=M/100*255,S=""));var W=function(){var d={myParent:a.parentNode||c.body,position:v.getPropertyValue(a,"position"),fontSize:v.getPropertyValue(a,"fontSize")},e=d.position===I.lastPosition&&d.myParent===I.lastParent,f=d.fontSize===I.lastFontSize;I.lastParent=d.myParent,I.lastPosition=d.position,I.lastFontSize=d.fontSize;var g=100,h={};if(f&&e)h.emToPx=I.lastEmToPx,h.percentToPxWidth=I.lastPercentToPxWidth,h.percentToPxHeight=I.lastPercentToPxHeight;else{var i=n&&n.isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");t.init(i),d.myParent.appendChild(i),m.each(["overflow","overflowX","overflowY"],function(a,b){t.CSS.setPropertyValue(i,b,"hidden")}),t.CSS.setPropertyValue(i,"position",d.position),t.CSS.setPropertyValue(i,"fontSize",d.fontSize),t.CSS.setPropertyValue(i,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){t.CSS.setPropertyValue(i,b,g+"%")}),t.CSS.setPropertyValue(i,"paddingLeft",g+"em"),h.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(v.getPropertyValue(i,"width",null,!0))||1)/g,h.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(v.getPropertyValue(i,"height",null,!0))||1)/g,h.emToPx=I.lastEmToPx=(parseFloat(v.getPropertyValue(i,"paddingLeft"))||1)/g,d.myParent.removeChild(i)}return null===I.remToPx&&(I.remToPx=parseFloat(v.getPropertyValue(c.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(b.innerWidth)/100,I.vhToPx=parseFloat(b.innerHeight)/100),h.remToPx=I.remToPx,h.vwToPx=I.vwToPx,h.vhToPx=I.vhToPx,t.debug>=1&&console.log("Unit ratios: "+JSON.stringify(h),a),h};if(/[\/*]/.test(U))S=T;else if(T!==S&&0!==O)if(0===M)S=T;else{h=h||W();var X=/margin|padding|left|right|width|text|word|letter/i.test(K)||/X$/.test(K)||"x"===K?"x":"y";switch(T){case"%":O*="x"===X?h.percentToPxWidth:h.percentToPxHeight;break;case"px":break;default:O*=h[T+"ToPx"]}switch(S){case"%":O*=1/("x"===X?h.percentToPxWidth:h.percentToPxHeight);break;case"px":break;default:O*=1/h[S+"ToPx"]}}switch(U){case"+":M=O+M;break;case"-":M=O-M;break;case"*":M=O*M;break;case"/":M=O/M}l[K]={rootPropertyValue:Q,startValue:O,currentValue:O,endValue:M,unitType:S,easing:N},t.debug&&console.log("tweensContainer ("+K+"): "+JSON.stringify(l[K]),a)}else t.debug&&console.log("Skipping ["+P+"] due to a lack of browser support.")}l.element=a}l.element&&(v.Values.addClass(a,"velocity-animating"),J.push(l),n=g(a),n&&(""===i.queue&&(n.tweensContainer=l,n.opts=i),n.isAnimating=!0),z===y-1?(t.State.calls.push([J,q,i,null,C.resolver]),t.State.isTicking===!1&&(t.State.isTicking=!0,k())):z++)}var h,i=m.extend({},t.defaults,u),l={};switch(g(a)===d&&t.init(a),parseFloat(i.delay)&&i.queue!==!1&&m.queue(a,i.queue,function(b){t.velocityQueueEntryFlag=!0,g(a).delayTimer={setTimeout:setTimeout(b,parseFloat(i.delay)),next:b}}),i.duration.toString().toLowerCase()){case"fast":i.duration=200;break;case"normal":i.duration=r;break;case"slow":i.duration=600;break;default:i.duration=parseFloat(i.duration)||1}t.mock!==!1&&(t.mock===!0?i.duration=i.delay=1:(i.duration*=parseFloat(t.mock)||1,i.delay*=parseFloat(t.mock)||1)),i.easing=j(i.easing,i.duration),i.begin&&!p.isFunction(i.begin)&&(i.begin=null),i.progress&&!p.isFunction(i.progress)&&(i.progress=null),i.complete&&!p.isFunction(i.complete)&&(i.complete=null),i.display!==d&&null!==i.display&&(i.display=i.display.toString().toLowerCase(),"auto"===i.display&&(i.display=t.CSS.Values.getDisplayType(a))),i.visibility!==d&&null!==i.visibility&&(i.visibility=i.visibility.toString().toLowerCase()),i.mobileHA=i.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,i.queue===!1?i.delay?setTimeout(f,i.delay):f():m.queue(a,i.queue,function(a,b){return b===!0?(C.promise&&C.resolver(q),!0):(t.velocityQueueEntryFlag=!0,void f(a))}),""!==i.queue&&"fx"!==i.queue||"inprogress"===m.queue(a)[0]||m.dequeue(a)}var h,i,n,o,q,s,u,x=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(i=!1,o=0,q=this,n=this):(i=!0,o=1,q=x?arguments[0].elements||arguments[0].e:arguments[0]),q=f(q)){x?(s=arguments[0].properties||arguments[0].p,u=arguments[0].options||arguments[0].o):(s=arguments[o],u=arguments[o+1]);var y=q.length,z=0;if(!/^(stop|finish|finishAll)$/i.test(s)&&!m.isPlainObject(u)){var A=o+1;u={};for(var B=A;B<arguments.length;B++)p.isArray(arguments[B])||!/^(fast|normal|slow)$/i.test(arguments[B])&&!/^\d/.test(arguments[B])?p.isString(arguments[B])||p.isArray(arguments[B])?u.easing=arguments[B]:p.isFunction(arguments[B])&&(u.complete=arguments[B]):u.duration=arguments[B]}var C={promise:null,resolver:null,rejecter:null};i&&t.Promise&&(C.promise=new t.Promise(function(a,b){C.resolver=a,C.rejecter=b}));var D;switch(s){case"scroll":D="scroll";break;case"reverse":D="reverse";break;case"finish":case"finishAll":case"stop":m.each(q,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer),"finishAll"!==s||u!==!0&&!p.isString(u)||(m.each(m.queue(b,p.isString(u)?u:""),function(a,b){p.isFunction(b)&&b()}),m.queue(b,p.isString(u)?u:"",[]))});var E=[];return m.each(t.State.calls,function(a,b){
b&&m.each(b[1],function(c,e){var f=u===d?"":u;return f!==!0&&b[2].queue!==f&&(u!==d||b[2].queue!==!1)||void m.each(q,function(c,d){if(d===e)if((u===!0||p.isString(u))&&(m.each(m.queue(d,p.isString(u)?u:""),function(a,b){p.isFunction(b)&&b(null,!0)}),m.queue(d,p.isString(u)?u:"",[])),"stop"===s){var h=g(d);h&&h.tweensContainer&&f!==!1&&m.each(h.tweensContainer,function(a,b){b.endValue=b.currentValue}),E.push(a)}else"finish"!==s&&"finishAll"!==s||(b[2].duration=1)})})}),"stop"===s&&(m.each(E,function(a,b){l(b,!0)}),C.promise&&C.resolver(q)),a();default:if(!m.isPlainObject(s)||p.isEmptyObject(s)){if(p.isString(s)&&t.Redirects[s]){h=m.extend({},u);var F=h.duration,G=h.delay||0;return h.backwards===!0&&(q=m.extend(!0,[],q).reverse()),m.each(q,function(a,b){parseFloat(h.stagger)?h.delay=G+parseFloat(h.stagger)*a:p.isFunction(h.stagger)&&(h.delay=G+h.stagger.call(b,a,y)),h.drag&&(h.duration=parseFloat(F)||(/^(callout|transition)/.test(s)?1e3:r),h.duration=Math.max(h.duration*(h.backwards?1-a/y:(a+1)/y),.75*h.duration,200)),t.Redirects[s].call(b,b,h||{},a,y,q,C.promise?C:d)}),a()}var H="Velocity: First argument ("+s+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(H)):console.log(H),a()}D="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},J=[];m.each(q,function(a,b){p.isNode(b)&&e(b,a)}),h=m.extend({},t.defaults,u),h.loop=parseInt(h.loop,10);var K=2*h.loop-1;if(h.loop)for(var L=0;L<K;L++){var M={delay:h.delay,progress:h.progress};L===K-1&&(M.display=h.display,M.visibility=h.visibility,M.complete=h.complete),w(q,"reverse",M)}return a()}};t=m.extend(w,t),t.animate=w;var x=b.requestAnimationFrame||o;return t.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(x=function(a){return setTimeout(function(){a(!0)},16)},k()):x=b.requestAnimationFrame||o}),a.Velocity=t,a!==b&&(a.fn.velocity=w,a.fn.velocity.defaults=t.defaults),m.each(["Down","Up"],function(a,b){t.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},n={};i.display===d&&(i.display="Down"===b?"inline"===t.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g);for(var c in l){n[c]=a.style[c];var d=t.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}n.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in n)a.style[b]=n[b];k&&k.call(g,g),h&&h.resolver(g)},t(a,l,i)}}),m.each(["In","Out"],function(a,b){t.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j=i.complete,k={opacity:"In"===b?1:0};e!==f-1?i.complete=i.begin=null:i.complete=function(){j&&j.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),t(this,k,i)}}),t}(window.jQuery||window.Zepto||window,window,document)});
;/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(factory){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],factory):factory("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function($){"use strict";function init(options){return!options||void 0!==options.allowPageScroll||void 0===options.swipe&&void 0===options.swipeStatus||(options.allowPageScroll=NONE),void 0!==options.click&&void 0===options.tap&&(options.tap=options.click),options||(options={}),options=$.extend({},$.fn.swipe.defaults,options),this.each(function(){var $this=$(this),plugin=$this.data(PLUGIN_NS);plugin||(plugin=new TouchSwipe(this,options),$this.data(PLUGIN_NS,plugin))})}function TouchSwipe(element,options){function touchStart(jqEvent){if(!(getTouchInProgress()||$(jqEvent.target).closest(options.excludedElements,$element).length>0)){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(!event.pointerType||"mouse"!=event.pointerType||0!=options.fallbackToMouseEvents){var ret,touches=event.touches,evt=touches?touches[0]:event;return phase=PHASE_START,touches?fingerCount=touches.length:options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),distance=0,direction=null,currentDirection=null,pinchDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,maximumsMap=createMaximumsData(),cancelMultiFingerRelease(),createFingerData(0,evt),!touches||fingerCount===options.fingers||options.fingers===ALL_FINGERS||hasPinches()?(startTime=getTimeStamp(),2==fingerCount&&(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase))):ret=!1,ret===!1?(phase=PHASE_CANCEL,triggerHandler(event,phase),ret):(options.hold&&(holdTimeout=setTimeout($.proxy(function(){$element.trigger("hold",[event.target]),options.hold&&(ret=options.hold.call($element,event,event.target))},this),options.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase!==PHASE_END&&phase!==PHASE_CANCEL&&!inMultiFingerRelease()){var ret,touches=event.touches,evt=touches?touches[0]:event,currentFinger=updateFingerData(evt);if(endTime=getTimeStamp(),touches&&(fingerCount=touches.length),options.hold&&clearTimeout(holdTimeout),phase=PHASE_MOVE,2==fingerCount&&(0==startTouchesDistance?(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)):(updateFingerData(touches[1]),endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end),pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end)),pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance),pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance)),fingerCount===options.fingers||options.fingers===ALL_FINGERS||!touches||hasPinches()){if(direction=calculateDirection(currentFinger.start,currentFinger.end),currentDirection=calculateDirection(currentFinger.last,currentFinger.end),validateDefaultEvent(jqEvent,currentDirection),distance=calculateDistance(currentFinger.start,currentFinger.end),duration=calculateDuration(),setMaxDistance(direction,distance),ret=triggerHandler(event,phase),!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=!0;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds)}!options.triggerOnTouchEnd&&inBounds?phase=getNextPhase(PHASE_MOVE):options.triggerOnTouchLeave&&!inBounds&&(phase=getNextPhase(PHASE_END)),phase!=PHASE_CANCEL&&phase!=PHASE_END||triggerHandler(event,phase)}}else phase=PHASE_CANCEL,triggerHandler(event,phase);ret===!1&&(phase=PHASE_CANCEL,triggerHandler(event,phase))}}function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease())return startMultiFingerRelease(event),!0;if(touches.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(fingerCount=fingerCountAtRelease),endTime=getTimeStamp(),duration=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?(phase=PHASE_CANCEL,triggerHandler(event,phase)):options.triggerOnTouchEnd||options.triggerOnTouchEnd===!1&&phase===PHASE_MOVE?(options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),phase=PHASE_END,triggerHandler(event,phase)):!options.triggerOnTouchEnd&&hasTap()?(phase=PHASE_END,triggerHandlerForGesture(event,phase,TAP)):phase===PHASE_MOVE&&(phase=PHASE_CANCEL,triggerHandler(event,phase)),setTouchInProgress(!1),null}function touchCancel(){fingerCount=0,endTime=0,startTime=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;options.triggerOnTouchLeave&&(phase=getNextPhase(PHASE_END),triggerHandler(event,phase))}function removeListeners(){$element.unbind(START_EV,touchStart),$element.unbind(CANCEL_EV,touchCancel),$element.unbind(MOVE_EV,touchMove),$element.unbind(END_EV,touchEnd),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave),setTouchInProgress(!1)}function getNextPhase(currentPhase){var nextPhase=currentPhase,validTime=validateSwipeTime(),validDistance=validateSwipeDistance(),didCancel=didSwipeBackToCancel();return!validTime||didCancel?nextPhase=PHASE_CANCEL:!validDistance||currentPhase!=PHASE_MOVE||options.triggerOnTouchEnd&&!options.triggerOnTouchLeave?!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave&&(nextPhase=PHASE_CANCEL):nextPhase=PHASE_END,nextPhase}function triggerHandler(event,phase){var ret,touches=event.touches;return(didSwipe()||hasSwipes())&&(ret=triggerHandlerForGesture(event,phase,SWIPE)),(didPinch()||hasPinches())&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,PINCH)),didDoubleTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP):didLongTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,LONG_TAP):didTap()&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,TAP)),phase===PHASE_CANCEL&&touchCancel(event),phase===PHASE_END&&(touches?touches.length||touchCancel(event):touchCancel(event)),ret}function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){if($element.trigger("swipeStatus",[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]),options.swipeStatus&&(ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection),ret===!1))return!1;if(phase==PHASE_END&&validateSwipe()){if(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),$element.trigger("swipe",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipe&&(ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection),ret===!1))return!1;switch(direction){case LEFT:$element.trigger("swipeLeft",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeLeft&&(ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case RIGHT:$element.trigger("swipeRight",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeRight&&(ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case UP:$element.trigger("swipeUp",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeUp&&(ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case DOWN:$element.trigger("swipeDown",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeDown&&(ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection))}}}if(gesture==PINCH){if($element.trigger("pinchStatus",[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchStatus&&(ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData),ret===!1))return!1;if(phase==PHASE_END&&validatePinch())switch(pinchDirection){case IN:$element.trigger("pinchIn",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchIn&&(ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData));break;case OUT:$element.trigger("pinchOut",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchOut&&(ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData))}}return gesture==TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),hasDoubleTap()&&!inDoubleTap()?(doubleTapStartTime=getTimeStamp(),singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target))},this),options.doubleTapThreshold)):(doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target)))):gesture==DOUBLE_TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),doubleTapStartTime=null,$element.trigger("doubletap",[event.target]),options.doubleTap&&(ret=options.doubleTap.call($element,event,event.target))):gesture==LONG_TAP&&(phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("longtap",[event.target]),options.longTap&&(ret=options.longTap.call($element,event,event.target)))),ret}function validateSwipeDistance(){var valid=!0;return null!==options.threshold&&(valid=distance>=options.threshold),valid}function didSwipeBackToCancel(){var cancelled=!1;return null!==options.cancelThreshold&&null!==direction&&(cancelled=getMaxDistance(direction)-distance>=options.cancelThreshold),cancelled}function validatePinchDistance(){return null!==options.pinchThreshold?pinchDistance>=options.pinchThreshold:!0}function validateSwipeTime(){var result;return result=options.maxTimeThreshold?!(duration>=options.maxTimeThreshold):!0}function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents!==!1)if(options.allowPageScroll===NONE)jqEvent.preventDefault();else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:(options.swipeLeft&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case RIGHT:(options.swipeRight&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case UP:(options.swipeUp&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case DOWN:(options.swipeDown&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case NONE:}}}function validatePinch(){var hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance}function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut)}function didPinch(){return!(!validatePinch()||!hasPinches())}function validateSwipe(){var hasValidTime=validateSwipeTime(),hasValidDistance=validateSwipeDistance(),hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),didCancel=didSwipeBackToCancel(),valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid}function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown)}function didSwipe(){return!(!validateSwipe()||!hasSwipes())}function validateFingers(){return fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function validateEndPoint(){return 0!==fingerData[0].end.x}function hasTap(){return!!options.tap}function hasDoubleTap(){return!!options.doubleTap}function hasLongTap(){return!!options.longTap}function validateDoubleTap(){if(null==doubleTapStartTime)return!1;var now=getTimeStamp();return hasDoubleTap()&&now-doubleTapStartTime<=options.doubleTapThreshold}function inDoubleTap(){return validateDoubleTap()}function validateTap(){return(1===fingerCount||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold)}function validateLongTap(){return duration>options.longTapThreshold&&DOUBLE_TAP_THRESHOLD>distance}function didTap(){return!(!validateTap()||!hasTap())}function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}function didLongTap(){return!(!validateLongTap()||!hasLongTap())}function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp(),fingerCountAtRelease=event.touches.length+1}function cancelMultiFingerRelease(){previousTouchEndTime=0,fingerCountAtRelease=0}function inMultiFingerRelease(){var withinThreshold=!1;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime;diff<=options.fingerReleaseThreshold&&(withinThreshold=!0)}return withinThreshold}function getTouchInProgress(){return!($element.data(PLUGIN_NS+"_intouch")!==!0)}function setTouchInProgress(val){$element&&(val===!0?($element.bind(MOVE_EV,touchMove),$element.bind(END_EV,touchEnd),LEAVE_EV&&$element.bind(LEAVE_EV,touchLeave)):($element.unbind(MOVE_EV,touchMove,!1),$element.unbind(END_EV,touchEnd,!1),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave,!1)),$element.data(PLUGIN_NS+"_intouch",val===!0))}function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX,f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY,fingerData[id]=f,f}function updateFingerData(evt){var id=void 0!==evt.identifier?evt.identifier:0,f=getFingerData(id);return null===f&&(f=createFingerData(id,evt)),f.last.x=f.end.x,f.last.y=f.end.y,f.end.x=evt.pageX||evt.clientX,f.end.y=evt.pageY||evt.clientY,f}function getFingerData(id){return fingerData[id]||null}function setMaxDistance(direction,distance){direction!=NONE&&(distance=Math.max(distance,getMaxDistance(direction)),maximumsMap[direction].distance=distance)}function getMaxDistance(direction){return maximumsMap[direction]?maximumsMap[direction].distance:void 0}function createMaximumsData(){var maxData={};return maxData[LEFT]=createMaximumVO(LEFT),maxData[RIGHT]=createMaximumVO(RIGHT),maxData[UP]=createMaximumVO(UP),maxData[DOWN]=createMaximumVO(DOWN),maxData}function createMaximumVO(dir){return{direction:dir,distance:0}}function calculateDuration(){return endTime-startTime}function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x),diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY))}function calculatePinchZoom(startDistance,endDistance){var percent=endDistance/startDistance*1;return percent.toFixed(2)}function calculatePinchDirection(){return 1>pinchZoom?OUT:IN}function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)))}function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x,y=endPoint.y-startPoint.y,r=Math.atan2(y,x),angle=Math.round(180*r/Math.PI);return 0>angle&&(angle=360-Math.abs(angle)),angle}function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint))return NONE;var angle=calculateAngle(startPoint,endPoint);return 45>=angle&&angle>=0?LEFT:360>=angle&&angle>=315?LEFT:angle>=135&&225>=angle?RIGHT:angle>45&&135>angle?DOWN:UP}function getTimeStamp(){var now=new Date;return now.getTime()}function getbounds(el){el=$(el);var offset=el.offset(),bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()};return bounds}function isInBounds(point,bounds){return point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom}function comparePoints(pointA,pointB){return pointA.x==pointB.x&&pointA.y==pointB.y}var options=$.extend({},options),useTouchEvents=SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents,START_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",MOVE_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",END_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",LEAVE_EV=useTouchEvents?SUPPORTS_POINTER?"mouseleave":null:"mouseleave",CANCEL_EV=SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null,$element=$(element),phase="start",fingerCount=0,fingerData={},startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0,singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel)}catch(e){$.error("events not supported "+START_EV+","+CANCEL_EV+" on jQuery.swipe")}this.enable=function(){return this.disable(),$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel),$element},this.disable=function(){return removeListeners(),$element},this.destroy=function(){removeListeners(),$element.data(PLUGIN_NS,null),$element=null},this.option=function(property,value){if("object"==typeof property)options=$.extend(options,property);else if(void 0!==options[property]){if(void 0===value)return options[property];options[property]=value}else{if(!property)return options;$.error("Option "+property+" does not exist on jQuery.swipe.options")}return null}}var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&"string"==typeof method){if(plugin[method])return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));$.error("Method "+method+" does not exist on jQuery.swipe")}else if(plugin&&"object"==typeof method)plugin.option.apply(plugin,arguments);else if(!(plugin||"object"!=typeof method&&method))return init.apply(this,arguments);return $this},$.fn.swipe.version=VERSION,$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS}});
;$("#hamburger").swipe({swipeRight:function(event,direction,distance,duration,fingerCount){$(this).find('.si-back').trigger('click');},threshold:75});$("#search").swipe({swipeLeft:function(event,direction,distance,duration,fingerCount){$(this).find('.se-b-back_icon').trigger('click');},threshold:75});$("#action_bar .action_bar-form").swipe({swipeRight:function(event,direction,distance,duration,fingerCount){$(this).find('.header-exit').trigger('click');},threshold:75});$(".ad_carousel:not(.disable)").swipe({swipeRight:function(event,direction,distance,duration,fingerCount){doADCarousel($(this).attr('id'),'slide');},swipeLeft:function(event,direction,distance,duration,fingerCount){doADCarousel($(this).attr('id'),'slide');},threshold:75});$(".ad_carousel:not(.disable)").on('click',function(){doADCarousel($(this).attr('id'),'click');});var footer_top_value,nav_elem_height;var article_scroll_render=true;var callInfinity=function(elem){if(!_MMC_HELPER.body_elem.hasClass('infiniting')){elem.addClass('infinity_from_here');infinityView();}}
var doADCarousel=function(elem_id,event){var elem=$('#'+elem_id);if(!elem.hasClass('carouseling'))return;if(event!='first'){if(elem.hasClass('next')){elem.removeClass('next');}else{elem.addClass('next');}
setTimeout(function(){elem.removeClass('auto');},10);}
if(event=='click'||event=='slide'){clearTimeout(window.doADCarousel_timeout[elem_id]);}
window.doADCarousel_timeout=window.doADCarousel_timeout||{};window.doADCarousel_timeout[elem_id]=setTimeout(function(){elem.addClass('auto');doADCarousel(elem_id,'carousel');},5000);}
var isUpScroll=function(isUp){if(isUp){_MMC_HELPER.nav_elem.velocity({top:0},10);_MMC_HELPER.h_notificationBar_elem.velocity({top:nav_elem_height},10);_MMC_HELPER.body_elem.removeClass('d_scroll').addClass('u_scroll');}else{_MMC_HELPER.nav_elem.velocity({top:nav_elem_height*-1},10);_MMC_HELPER.h_notificationBar_elem.velocity({top:0},10);_MMC_HELPER.body_elem.removeClass('u_scroll').addClass('d_scroll');}}
var scroll_event=function(){var st=0;var lastST=0;var screen_heihgt=screen.availHeight;nav_elem_height=_MMC_HELPER.nav_elem.outerHeight(true);if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post'){var article_height=_MMC_HELPER.m_article_elem.offset().top+_MMC_HELPER.m_article_elem.outerHeight(true);}}else if(_MMC.site.channel=='event'){var event_menu_elem_top=_MMC_HELPER.eventMenu_elem.offset().top;var event_menu_elem_height=_MMC_HELPER.eventMenu_elem.outerHeight(true);}
_MMC_HELPER.window_elem.scroll(function(){if(_MMC_HELPER.body_elem.hasClass('disable_scroll'))return;_MMC_HELPER.detectArticlePercent(st);footer_top_value=_MMC_HELPER.f_content_elem.offset().top;st=_MMC_HELPER.window_elem.scrollTop();if(st<0)st=0;if(_MMC.site.scroll_hidden_header&&st>(nav_elem_height-10)){if(st<lastST||st<=0||lastST==0){isUpScroll(1);}else{if(st!=lastST){isUpScroll(0);}}}
if(st>_MMC.site.show_top_button){_MMC_HELPER.f_toTop_elem.fadeIn();}else{_MMC_HELPER.f_toTop_elem.fadeOut();}
if(_MMC_HELPER.scrollTraceList.length){for(var prop in _MMC_HELPER.scrollTraceList){if(_MMC_HELPER.scrollTrace(_MMC_HELPER.scrollTraceList[prop].elem,_MMC_HELPER.scrollTraceList[prop].label)){_MMC_HELPER.removeA(_MMC_HELPER.scrollTraceList,_MMC_HELPER.scrollTraceList[prop]);}}}
if(_MMC.site.channel=='learn'&&_MMC.site.type=='post'){if(_MMC.article.show_ad){var ad_in_viewpoint=$('.ad_wrapper:not(.cover, .keyword):in-viewport');var ga_action=_MMC.article.main_cat.term_id;if(ad_in_viewpoint.length){$.each(ad_in_viewpoint,function(){var _item=$(this);if(!_item.hasClass('traced')){if(_item.hasClass('ad-for_carousel')){ga_action='輪_'+ga_action;}
if(_item.hasClass('ad-golden_eye')){gaEventTrace('黃金眼_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-focus')){gaEventTrace('焦點_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-golden_diamond')){gaEventTrace('金鑽_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-fb_related')&&!_item.hasClass('display-none')){gaEventTrace('推薦閱讀FBAD_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-gorgeous')){gaEventTrace('華麗_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-diamond')){gaEventTrace('鑽石頁尾_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-diamond2')){gaEventTrace('鑽石2_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-onead')){gaEventTrace('ONEAD_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-popin')){gaEventTrace('POPINAD_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-focus_infinity')){gaEventTrace('焦點_無限瀏覽_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-golden_diamond_infinity')){gaEventTrace('金鑽_無限瀏覽_'+ga_action,'捲動_學知識_文章頁');}else if(_item.hasClass('ad-gorgeous_infinity')){gaEventTrace('華麗_無限瀏覽_'+ga_action,'捲動_學知識_文章頁');}
_item.addClass('traced');}});}
var ad_carousel_in_viewpoint=$('.ad_carousel:in-viewport');if(ad_carousel_in_viewpoint.length){$.each(ad_carousel_in_viewpoint,function(){var _item=$(this);if(!_item.hasClass('disable')&&!_item.hasClass('carouseling')){_item.addClass('carouseling');doADCarousel(_item.attr('id'),'first');}});}
if(_MMC.site.cover_ad.mode&&!_MMC_HELPER.coverAD_elem.hasClass('covered')){if(_MMC.article.show_ad){var show_cover_elem_1=_MMC_HELPER.forCoverAD_elem;var show_cover_elem_height=500;show_cover_elem_height=(screen_heihgt>736?736:screen_heihgt)*3;var show_cover_elem_2=(st>show_cover_elem_height&&!_MMC.article.is_sex_cat);if((_MMC.article.dfp_direct.cover-_MMC.article.dfp_direct.cover_fill!=0)&&(_MMC.article.is_sex_cat||_MMC.article.utm_is_markfb)){_MMC_HELPER.show_cover=true;}else{if(_MMC_HELPER.isElemInView(show_cover_elem_1)||show_cover_elem_2)_MMC_HELPER.show_cover=true;}
if(!_MMC_HELPER.show_cover){if(typeof _MMC.article.replace_ad!="undefined"&&(typeof _MMC.article.replace_ad.all!="undefined"||typeof _MMC.article.replace_ad.cover!="undefined"))_MMC_HELPER.show_cover=true;}
if(_MMC_HELPER.show_cover)callCoverAD();}}}
if(_MMC_HELPER.a_editorCampaign_elem.length!=0&&_MMC_HELPER.a_editorCampaign_elem.offset().top<(st+_MMC.site.screenHeight-_MMC_HELPER.a_editorCampaign_elem.height())){_MMC_HELPER.slide2Center(_MMC_HELPER.a_editorCampaign_elem,'normal');}
if(_MMC.article.infinity_post.mode&&_MMC_HELPER.isElemInView(_MMC_HELPER.forInfinity_elem)){if(!_MMC.article.is_campaign&&_MMC.article.show_ad&&!_MMC_HELPER.body_elem.hasClass('infinity')){_MMC_HELPER.body_elem.addClass('infinity');callInfinity(_MMC_HELPER.sidebar_elem);}}
if(_MMC.article.next_post.mode){if($.isNumeric(_MMC_HELPER.nextPostBox_elem.attr('data-post-id'))&&_MMC_HELPER.nextPostBox_elem.attr('data-post-id')>0){if(!_MMC_HELPER.nextPostBox_elem.hasClass('done')){if(_MMC_HELPER.isElemInView($(_MMC.article.next_post.see_this))){_MMC_HELPER.slide2Center(_MMC_HELPER.nextPostBox_elem,'normal');_MMC_HELPER.nextPostBox_elem.addClass('done');}}else{_MMC_HELPER.slide2Center(_MMC_HELPER.nextPostBox_elem,'normal');setTimeout(function(){_MMC_HELPER.body_elem.addClass('nextpost_open');},1000);}
_MMC_HELPER.stickWithFooter(_MMC_HELPER.nextPostBox_elem);}}
if(_MMC.article.action_bar.mode){if(_MMC_HELPER.isElemInView(_MMC_HELPER.actionBar_elem)){var name=_MMC_HELPER.actionBar_elem.attr('data-name');var ab=_MMC_HELPER.actionBar_elem.attr('data-ab');_MMC_HELPER.scrollTrace(_MMC_HELPER.actionBar_elem,'ActionBar_'+name+'_'+ab);}
_MMC_HELPER.stickWithFooter(_MMC_HELPER.actionBar_elem);}
var campaign_box_meta_elem=_MMC_HELPER.campaignBox_elem.find('.c_b-meta');if(campaign_box_meta_elem.length>0){_MMC_HELPER.stickWithFooter(campaign_box_meta_elem);}
if(article_scroll_render&&st>article_height*.35){if(typeof renderRelatedPost=='function')renderRelatedPost();if(typeof getSidebar=='function')getSidebar();article_scroll_render=false;}
if(_MMC_HELPER.body_elem.hasClass('infinity')){var infinity_elem=$('.article.infinity_post.done');var infinity_last_elem=infinity_elem.last();if(infinity_last_elem.length){var infinity_article_height=infinity_last_elem.offset().top+infinity_last_elem.height();if(st>infinity_article_height-1000){callInfinity(infinity_last_elem);}}
var infinity_elem_in_viewpoint=$('.article.infinity_post.done:in-viewport');if(infinity_elem_in_viewpoint.length){$.each(infinity_elem_in_viewpoint,function(){var _item=$(this);if(_MMC_HELPER.isElemInView(_item)){if(!_item.hasClass('traced')){var infinity_post_id=_item.attr('data-article-id');gaEventTrace(_MMC.article.post_id+'-無限瀏覽-'+infinity_post_id,'捲動_學知識_文章頁');_item.addClass('traced');}
var infinity_post_path=$(this).attr('data-article-path');var infinity_post_title=$(this).attr('data-article-title')+'｜媽媽經｜專屬於媽媽的網站';_MMC_HELPER.updateBrowserUrl(infinity_post_path);_MMC_HELPER.updateBrowserTitle(infinity_post_title);$('meta[property="og:url"]').attr('content',"https://mamaclub.com"+infinity_post_path);$('meta[property="og:title"]').attr('content',$(this).attr('data-article-title'));$('link[rel="shortlink"]').attr('href',"https://m.mamaclub.com/?p="+infinity_post_id);}});}else{$('meta[property="og:url"]').attr('content',"https://mamaclub.com"+_MMC.article.post_url);$('meta[property="og:title"]').attr('content',_MMC.article.post_title);$('link[rel="shortlink"]').attr('href',"https://m.mamaclub.com/?p="+_MMC.article.post_id);_MMC_HELPER.updateBrowserUrl(_MMC.article.post_url);_MMC_HELPER.updateBrowserTitle(_MMC.article.post_title+'｜媽媽經｜專屬於媽媽的網站');}}
if(_MMC.article.show_ad&&!_MMC_HELPER.body_elem.hasClass('show_etc')&&(st+screen_heihgt)>_MMC_HELPER.a_mainContext_elem.offset().top){enableActionBar();setTimeout(function(){enableFloatingAD();},700);_MMC_HELPER.body_elem.addClass('show_etc');}}
if(_MMC.site.channel=='event'){if(_MMC_HELPER.body_elem.hasClass('CHECKME_APP')){if(st>event_menu_elem_height){_MMC_HELPER.body_elem.addClass('fixed-menu');_MMC_HELPER.main_elem.css('margin-top',event_menu_elem_height*3/2);}else{_MMC_HELPER.body_elem.removeClass('fixed-menu');_MMC_HELPER.main_elem.css('margin-top',0);}}else{if(st>event_menu_elem_top){_MMC_HELPER.body_elem.addClass('fixed-menu');_MMC_HELPER.main_elem.css('margin-top',event_menu_elem_height);_MMC_HELPER.eventMenu_elem.css('top',nav_elem_height);}else{_MMC_HELPER.body_elem.removeClass('fixed-menu');_MMC_HELPER.main_elem.css('margin-top',0);}}}
lastST=st;$.data(this,'scrollTimer',setTimeout(function(){if(lastST==0)isUpScroll(1);},1000));})
_MMC_HELPER.window_elem.scroll();};scroll_event();;if($(".m-content .main_context").length){var to_top_html='<img style="height: 38px;" src="https://mamaclub.com/wp-content/themes/voice/images/share-icon/up-icon.png">';$(".f-extra .f-e-to_top").html(to_top_html);var line_html='<div class="f-e-float_item f-e-line __r_"><img width="48" height="48" src="https://mamaclub.com/wp-content/themes/voice/images/share-icon/line-icon1.png"></div>';$(".f-extra").prepend(line_html);var facebook_html='<div class="f-e-float_item f-e-facebook __r_"><img width="48" height="48" src="https://mamaclub.com/wp-content/themes/voice/images/share-icon/fb-icon1.png"></div>';$(".f-extra").prepend(facebook_html);if(_MMC.article.author_id!=79953){$.getJSON("https://"+((location.host=='devm.mamaclub.com')?"dev.mamaclub.com":"mamaclub.com")+"/api/similar-posts-api.php?main_id="+_MMC.article.post_id+"&callback=?",function(data){if(data.cache_content){$(".m-content .main_context").append(data.cache_content);}});}}
$('body').on('click','.m-content .main_context .similar-post-content li a',function(e){var _title=$(this).text().trim();gaTrace('新追蹤_文末相關內容',_title,'新追蹤',1);});$('body').on('click','.f-extra .f-e-facebook',function(e){e.preventDefault();shareMMCData('fb');});$('body').on('click','.f-extra .f-e-line',function(e){e.preventDefault();shareMMCData('line');});function shareMMCData(type){var params={fb_app_id:'1398318470391556',url:{facebook:'https://www.facebook.com/sharer.php',line:'https://line.me/R/msg/text/'}};var arr=[];var winWidth=600,winHeight=450;var winTop=(window.screen.availHeight-30-winHeight)/2,winLeft=(window.screen.availWidth-10-winWidth)/2;var winParams='scrollbars=no,width='+winWidth+',height='+winHeight+',left='+winLeft+',top='+winTop+',status=no,resizable=yes';var url=$('meta[property="og:url"]').attr('content')+"",title=$('meta[property="og:title"]').attr('content'),content=$('meta[property="og:description"]').attr('content'),img=$('meta[property="og:image"]').attr('content');url=encodeURIComponent($('link[rel="shortlink"]').attr('href'));if(type=='fb'){arr.push('u='+url);arr.push('t='+title);window.open(params.url.facebook+'?'+arr.join('&'),'_blank',winParams);}else if(type=='line'){arr.push(''+title);arr.push('%0D%0A');arr.push(''+url);window.open(params.url.line+'?'+arr.join(''),'_blank',winParams);}
gaTrace('新追蹤_右下浮動'+type+'分享',title,'新追蹤',1);}
_MMC_HELPER.footer_elem.on('click','.f-extra .f-e-to_top',function(e){e.preventDefault();gaEventTrace('scroll to top','使用者相關');_MMC_HELPER.scrollToTop();});_MMC_HELPER.footer_elem.on('click','.f-content .f-c-nav li',function(){var li_tag=$(this).attr('data-tag');var hamburger_menu_elem=_MMC_HELPER.h_hamburger_elem.find('.si-menu');gaEventTrace(li_tag,'頁底選單');if(li_tag=='關於媽媽經'){$('.h-n-right').trigger('click');setTimeout(function(){hamburger_menu_elem.animate({scrollTop:300},1300);},200);setTimeout(function(){hamburger_menu_elem.find('.nav_mmc_about i').trigger('click');},600);}else if(li_tag=='聯絡我們'){location.href=hamburger_menu_elem.find('.nav_mmc_about-contact .si-m-i-text a').attr('href');}else if(li_tag=='成為工作夥伴'){location.href=hamburger_menu_elem.find('.nav_mmc_join-worker .si-m-i-text a').attr('href');}else if(li_tag=='成為駐站作家'){location.href=hamburger_menu_elem.find('.nav_mmc_join-author .si-m-i-text a').attr('href');}});_MMC_HELPER.footer_elem.on('click','.f-c-social .line_friend_in_footer',function(){gaEventTrace('文章-'+_MMC.article.post_id+'-頁底','加入LINE好友');});_MMC_HELPER.footer_elem.on('click','.f-c-social .member.call_login',function(){gaEventTrace('到登入頁面-頁底','使用者相關');});;if(_MMC_HELPER.getCookie('from_collection_3')!=''&&_MMC_HELPER.getCookie('from_collection_3')!='1'){var dateTime=new Date(_MMC_HELPER.getCookie('from_collection_3')*1000);document.cookie="from_collection_3=1; expires="+dateTime.toGMTString()+"; path=/; domain=.mamaclub.com";alert('您已獲得「抽變美大獎」的資格，謝謝你的參與！');}
if(_MMC_HELPER.getCookie('article_editor_campaign_to_back')!=''){var article_editor_campaign_to_back_cookie=_MMC_HELPER.getCookie('article_editor_campaign_to_back');var article_editor_campaign_to_back_button_elem='<div id="article_editor_campaign_to_back_button" data-url="'+article_editor_campaign_to_back_cookie+'"><div>返回<br>專題</div></div>';_MMC_HELPER.nav_elem.prepend(article_editor_campaign_to_back_button_elem);_MMC_HELPER.removeCookie('article_editor_campaign_to_back');}
_MMC_HELPER.nav_elem.on('click','#article_editor_campaign_to_back_button',function(){gaEventTrace('文章-'+_MMC.article.post_id,'編輯特企頁');location.href=decodeURIComponent($(this).attr('data-url'));});_MMC_HELPER.main_elem.find('.fake_article_loading').height(screen.height).removeClass('display-none');_MMC_HELPER.m_article_elem.on('click','.m-author .m-a-follow',function(){if(_MMC.user.is_login){var follow_st=$(this).attr('data-follow');if(follow_st=="0"){$(this).attr('data-follow',1);$(this).attr('data-follow-total',parseInt($(this).attr('data-follow-total'))+1);$(this).find('.m-a-f-b-total').attr('data-follow-total',parseInt($(this).find('.m-a-f-b-total').attr('data-follow-total'))+1);gaEventTrace('追蹤-'+_MMC.article.author_id,'作者追蹤-文章頁');}else{$(this).attr('data-follow',0);$(this).attr('data-follow-total',parseInt($(this).attr('data-follow-total'))-1);$(this).find('.m-a-f-b-total').attr('data-follow-total',parseInt($(this).find('.m-a-f-b-total').attr('data-follow-total'))-1);gaEventTrace('取消追蹤-'+_MMC.article.author_id,'作者追蹤-文章頁');}
updateAuthorFollow(_MMC.article.author_id,follow_st);}else{gaEventTrace('未登入追蹤-'+_MMC.article.author_id,'作者追蹤-文章頁');}});_MMC_HELPER.m_article_elem.on('click','.m-addition .m-addition-button.like',function(){if(_MMC.user.is_login){var like_st=$(this).attr('data-like');if(like_st=="0"){$(this).attr('data-like',1);$(this).attr('data-like-total',parseInt($(this).attr('data-like-total'))+1);$(this).find('.m-addition-b-total').attr('data-like-total',parseInt($(this).find('.m-addition-b-total').attr('data-like-total'))+1);gaEventTrace('喜愛-'+_MMC.article.post_id,'文章喜愛');}else{$(this).attr('data-like',0);$(this).attr('data-like-total',parseInt($(this).attr('data-like-total'))-1);$(this).find('.m-addition-b-total').attr('data-like-total',parseInt($(this).find('.m-addition-b-total').attr('data-like-total'))-1);gaEventTrace('取消喜愛-'+_MMC.article.post_id,'文章喜愛');}
updateArticleLike(_MMC.article.post_id,like_st);}else{gaEventTrace('未登入喜愛-'+_MMC.article.post_id,'文章喜愛');}});_MMC_HELPER.a_social_elem.on('click','.m-s-s-like',function(){if(_MMC.user.is_login){var like_st=$(this).attr('data-like');if(like_st=="0"){$(this).attr('data-like',1);$(this).attr('data-like-total',parseInt($(this).attr('data-like-total'))+1);gaEventTrace('喜愛-'+_MMC.article.post_id,'文章喜愛');}else{$(this).attr('data-like',0);$(this).attr('data-like-total',parseInt($(this).attr('data-like-total'))-1);gaEventTrace('取消喜愛-'+_MMC.article.post_id,'文章喜愛');}
updateArticleLike(_MMC.article.post_id,like_st);}else{gaEventTrace('未登入喜愛-'+_MMC.article.post_id,'文章喜愛');}});_MMC_HELPER.m_article_elem.on('click','.m-addition .m-addition-button.favorite',function(){if(_MMC.user.is_login){var favorite_st=$(this).attr('data-favorite');if(favorite_st=="0"){$(this).attr('data-favorite',1);gaEventTrace('收藏-'+_MMC.article.post_id,'文章收藏');}else{$(this).attr('data-favorite',0);gaEventTrace('取消收藏-'+_MMC.article.post_id,'文章收藏');}
updateArticleFavorite(_MMC.article.post_id,favorite_st);}else{gaEventTrace('未登入收藏-'+_MMC.article.post_id,'文章收藏');}});_MMC_HELPER.a_social_elem.on('click','.m-s-s-favorite',function(){if(_MMC.user.is_login){var favorite_st=$(this).attr('data-favorite');if(favorite_st=="0"){$(this).attr('data-favorite',1);gaEventTrace('收藏-'+_MMC.article.post_id,'文章收藏');}else{$(this).attr('data-favorite',0);gaEventTrace('取消收藏-'+_MMC.article.post_id,'文章收藏');}
updateArticleFavorite(_MMC.article.post_id,favorite_st);}else{gaEventTrace('未登入收藏-'+_MMC.article.post_id,'文章收藏');}});_MMC_HELPER.a_social_elem.on('click','.m-s-s-fb',function(){var lin_utm='&mmc_ref=m_fb';var post_link=encodeURIComponent('https://mamaclub.com/?p='+_MMC.article.post_id+lin_utm);var current_link=encodeURIComponent(document.URL);var og_title=$('head').find('meta[property="og:title"]').attr('content');var og_description=$('head').find('meta[property="og:description"]').attr('content');var og_image=$('head').find('meta[property="og:image"]').attr('content');var fb_url='https://www.facebook.com/dialog/feed?app_id=1398318470391556&link='+post_link+'&picture='+og_image+'&name='+og_title+'&caption='+og_description+'&redirect_uri='+current_link;gaEventTrace('FB分享-'+_MMC.article.post_id,'文章分享');location.href=fb_url;});_MMC_HELPER.a_social_elem.on('click','.m-s-s-line',function(){var og_title=$('head').find('meta[property="og:title"]').attr('content');var line_url='line://msg/text/'+og_title+'%0D%0Ahttps://m.mamaclub.com/?p='+_MMC.article.post_id+'&mmc_ref=m_line';gaEventTrace('LINE分享-'+_MMC.article.post_id,'文章分享');location.href=line_url;});_MMC_HELPER.breadcrumb_elem.on('click','.breadcrumb li a',function(){var breadcrumb_name=$.trim($(this).html());gaEventTrace('從 '+_MMC.article.post_id+' 到分類 '+breadcrumb_name,'文章麵包屑');});_MMC_HELPER.a_tags_elem.on('click','.m-ts-tag a',function(){var tag_name=$(this).find('.label').attr('data-tag');gaEventTrace('從 '+_MMC.article.post_id+' 到標籤 '+tag_name,'文章標籤');});_MMC_HELPER.a_editorCampaign_elem.on('click','a',function(){var name=$.trim($(this).find('.article_editor_campaign_inner').html());gaEventTrace('從 '+_MMC.article.post_id+' 到標題 '+name,'文末推廣');});_MMC_HELPER.main_elem.on('click','.m-content .article_special_ad a',function(){gaEventTrace('文末特開-'+_MMC.article.post_id,'文章特開');});if(_MMC.article.next_post.mode){_MMC_HELPER.nextPostBox_elem.on('click','.next_post_box-link',function(){var next_pid=$(this).attr('data-pid');gaEventTrace('從 '+_MMC.article.post_id+' 到 '+next_pid,'文章下一則');});}
_MMC_HELPER.related_box_elem.on('click','a',function(){var parents_elem=$(this).closest('.post-item');if(parents_elem.hasClass('article_editor_campaign_related_post'))var data='推廣 "'+$(this).attr('data-name')+'"';else var data=' '+parents_elem.attr('data-post-id');gaEventTrace('從 '+_MMC.article.post_id+' 到'+data,'文章推薦閱讀');});_MMC_HELPER.main_elem.on('click','.m-author a',function(){gaEventTrace('作者-'+_MMC.article.author_id,'文章作者');});_MMC_HELPER.main_elem.on('click','.report_button',function(){gaEventTrace('開啟檢舉','檢舉機制');$('.outside_post_box').find('.o_p_b-report').addClass('selected');});_MMC_HELPER.main_elem.on('click','.outside_post_box .o_p_b-report .o_p_b-submit',function(){var report_elem=$(this).closest('.o_p_b-report');var report_textarea_elem=report_elem.find('.o_p_b-textarea textarea');var report=$.trim(report_textarea_elem.val());_MMC_HELPER.slide2Left(report_elem.find('.o_p_b-first'));_MMC_HELPER.slide2Center(report_elem.find('.o_p_b-second'));if(report==''){report_textarea_elem.focus();}else{var url='/api/post_report';$.ajax({url:url,type:'get',data:{'user_id':_MMC.user.id,'post_id':_MMC.article.post_id,'post_title':_MMC.article.post_title,reason:report}}).done(function(response){if(response=='ok'){gaEventTrace('送出成功','檢舉機制');setTimeout(function(){report_textarea_elem.val('');},500);}});}});_MMC_HELPER.main_elem.on('click','.outside_post_box .o_p_b-report .o_p_b-h-close',function(){gaEventTrace('關閉檢舉','檢舉機制');$(this).closest('.o_p_b-report').removeClass('selected');var report_elem=$(this).closest('.o_p_b-report');_MMC_HELPER.slide2Left(report_elem.find('.o_p_b-second'));_MMC_HELPER.slide2Center(report_elem.find('.o_p_b-first'));});_MMC_HELPER.main_elem.on('click','.m-line_friend',function(){gaEventTrace('文章-'+_MMC.article.post_id+'-文章末','加入LINE好友');});_MMC_HELPER.main_elem.on('click','.alert18_for_sex',function(){gaEventTrace('文章-'+_MMC.article.post_id,'性文繼續閱讀');_MMC_HELPER.body_elem.addClass('im18');});_MMC_HELPER.main_elem.on('click','.quote_box .q_b-link',function(){var quote_id=$(this).attr('data-quote-id');gaEventTrace('從文章-'+_MMC.article.post_id+' 到文章-'+quote_id,'引文');});_MMC_HELPER.main_elem.on('click','.author_write_buttons .a_w_button',function(){if($(this).hasClass('normal')){gaEventTrace('文章-'+_MMC.article.post_id+', 一般寫文','駐站作家文內按鈕');}else if($(this).hasClass('quote')){gaEventTrace('文章-'+_MMC.article.post_id+', 引用寫文','駐站作家文內按鈕');}else{return false;}});var getPost=function(){if(_MMC.article.post_id==0){_MMC_HELPER.main_elem.html(_MMC_HELPER.getTemplate('page_404'));console.log('404 page');return false;}
renderPost(_MMC.article);}
var renderPost=function(post){gaEventTrace(_MMC.article.post_id,_MMC.article.post_title+"|||"+_MMC.article.editor_id+"|||"+_MMC.article.author_id,"Post",1);gaEventTrace(_MMC.article.editor_id,_MMC.article.post_title,"Editor",1);gaEventTrace(_MMC.article.author_id,_MMC.article.post_title,"Writer",1);if(_MMC.article.extend_focus_ad.golden_diamond){gaEventTrace('焦點2-'+_MMC.article.post_id,'文章焦點');}
if(_MMC.article.extend_focus_ad.gorgeous){gaEventTrace('焦點3-'+_MMC.article.post_id,'文章焦點');}
if(_MMC.article.is_campaign){renderCampaign();}
if(_MMC.article.next_post.mode){var template_next_post=_MMC_HELPER.getTemplate('next_post');var next_post="";var next_post_id=_MMC.article.next_post.post_id;_MMC_HELPER.nextPostBox_elem.attr('data-post-id',next_post_id)
if(next_post_id!='0'){var utm_prm='&utm_source=traffic.mmc&utm_medium=next_post&utm_campaign=post';var next_post_link='/?p='+next_post_id+utm_prm;var next_post_title=_MMC.article.next_post.post_title;template_next_post=template_next_post.replace(/\[NEXT_POST_ID\]/g,next_post_id);template_next_post=template_next_post.replace(/\[NEXT_POST_LINK\]/g,next_post_link);template_next_post=template_next_post.replace(/\[NEXT_POST_TITLE\]/g,next_post_title);template_next_post=template_next_post.replace(/data\-href/g,'href');template_next_post=template_next_post.replace(/amigo/g,'a');next_post=template_next_post;_MMC_HELPER.nextPostBox_elem.html(next_post);}}
if(_MMC.article.comment_option.member){getComments(_MMC.article.comment_option.anonymous);}
getAuthorFollowST(_MMC.article.author_id);getArticleLikeST(_MMC.article.post_id);getArticleFavoriteST(_MMC.article.post_id);if(_MMC.article.show_ad){var ad_onead_code='<div class="ad_wrapper ad-onead"><div id="oneadMIRTag"></div><script>var as = document.createElement("script");as.type = "text/javascript";as.async = true;as.src = "/assets/learn/js/ad/onead_mir.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(as, s);</script></div>';if(_MMC.article.utm_is_itaifb){_MMC_HELPER.wrapper_elem.prepend(ad_onead_code);}else{_MMC_HELPER.main_elem.find('#for_cover_ad').before(ad_onead_code);}}else{}
if(_MMC.article.is_asf=='0')getChatMatch();};var postErrorHandle=function(response){console.log("ERRORPOST");console.log(response);return false;}
var renderRelatedPost=function(){var template_related_post=_MMC_HELPER.getTemplate('related_post');var template_survey_item=_MMC_HELPER.getTemplate('article_survey_item');var related_post="";var survey_items="";if(typeof _MMC.article.post_relation!=='undefined'&&_MMC.article.post_relation.length>0){var layout_type='b';var template_related_post_item=_MMC_HELPER.getTemplate('post_item_layout_'+layout_type);for(var i=0;i<_MMC.article.post_relation.length;i++){var template_related_post_item1=template_related_post_item;var utm_prm='&utm_source=traffic.mmc&utm_medium=related_post&utm_campaign=post';var related_post_class='layout-'+layout_type;var related_post_id=_MMC.article.post_relation[i].post_id;var related_post_link='/?p='+related_post_id+utm_prm;var related_post_featured=((typeof _MMC.article.post_relation[i].featured_image=='undefined')?_MMC.site.default_featured:_MMC.article.post_survey[i].featured_image).replace(/http:/,'https:');var related_post_title=_MMC.article.post_relation[i].post_title;var related_post_survey_count=parseInt(_MMC.article.post_relation[i].survey.Y)+parseInt(_MMC.article.post_relation[i].survey.N);var related_post_survey='';if(related_post_survey_count>10){related_post_survey=(parseInt(_MMC.article.post_relation[i].survey.Y)/parseInt(related_post_survey_count))*100;related_post_survey=Math.round(related_post_survey);if(related_post_survey==100){related_post_survey='大家都覺得有幫助';}else{related_post_survey+='%的人覺得有幫助';}}else{related_post_class+=' no_survey';}
template_related_post_item1=template_related_post_item1.replace(/\[POST_CLASS\]/g,related_post_class);template_related_post_item1=template_related_post_item1.replace(/\[POST_ID\]/g,related_post_id);template_related_post_item1=template_related_post_item1.replace(/\[POST_LINK\]/g,related_post_link);template_related_post_item1=template_related_post_item1.replace(/\[POST_FEATURED\]/g,related_post_featured);template_related_post_item1=template_related_post_item1.replace(/\[POST_TITLE\]/g,related_post_title);template_related_post_item1=template_related_post_item1.replace(/\[POST_SURVEY\]/g,related_post_survey);template_related_post_item1=template_related_post_item1.replace(/data\-src/g,'src');template_related_post_item1=template_related_post_item1.replace(/data\-href/g,'href');template_related_post_item1=template_related_post_item1.replace(/data\-iframe\-src/g,'src');template_related_post_item1=template_related_post_item1.replace(/amigo/g,'a');related_post+=template_related_post_item1;}}
if(_MMC.article.is_asf=='0'&&_MMC.article.can_survey&&_MMC.article_survey.mode&&_MMC.article.post_survey.length>0){for(var i=0;i<_MMC.article.post_survey.length;i++){var template_survey_item1=template_survey_item;var utm_prm='&utm_source=traffic.mmc&utm_medium=survey_post&utm_campaign=post';var survey_post_id=_MMC.article.post_survey[i].post_id;var survey_post_link='/?p='+survey_post_id+utm_prm;var survey_post_featured=((typeof _MMC.article.post_survey[i].featured_image=='undefined')?_MMC.site.default_featured:_MMC.article.post_survey[i].featured_image).replace(/http:/,'https:');var survey_post_title=_MMC.article.post_survey[i].post_title;template_survey_item1=template_survey_item1.replace(/\[SURVEY_ITEM_ID\]/g,survey_post_id);template_survey_item1=template_survey_item1.replace(/\[SURVEY_ITEM_LINK\]/g,survey_post_link);template_survey_item1=template_survey_item1.replace(/\[SURVEY_ITEM_TITLE\]/g,survey_post_title);template_survey_item1=template_survey_item1.replace(/data\-href/g,'href');template_survey_item1=template_survey_item1.replace(/amigo/g,'a');survey_items+=template_survey_item1;}
var template_survey=_MMC_HELPER.getTemplate('article_survey');template_survey=template_survey.replace(/\[SURVEY_ITEMS\]/g,survey_items);_MMC_HELPER.a_surver_elem.html(template_survey);_MMC_HELPER.fadeIn(_MMC_HELPER.a_surver_elem);}
var fb_ad_elem='<div class="ad_wrapper ad-fb_related"><iframe id="related_box_fb_ad" class="iframe display-none" data-src="/assets/learn/ad/facebook_related.php" src="about:blank" width="300" height="250" frameborder="0" scrolling="no"></iframe></div>';if(_MMC.article_editor_campaign.mode){var article_editor_campaign_related_post_elem='<div class="post-item article_editor_campaign_related_post"><a href="'+_MMC.article_editor_campaign.related_post.link+'" data-name="'+_MMC.article_editor_campaign.related_post.name+'"><img width="auto" height="auto" src="'+_MMC.article_editor_campaign.related_post.img+'"></a></div>';related_post=article_editor_campaign_related_post_elem+related_post;template_related_post=template_related_post.replace(/\[RELATED_POSTS\]/g,related_post);}
_MMC_HELPER.related_box_elem.html(template_related_post);$('#related_box_fb_ad').attr('src',$('#related_box_fb_ad').attr('data-src'));_MMC_HELPER.fadeIn(_MMC_HELPER.related_box_elem);}
var utm_medium=_MMC.site.utm.medium;var expire_days=1;var d=new Date();d.setTime(d.getTime()+(expire_days*24*60*60*1000));var expires="expires="+d.toGMTString();document.cookie="utm_medium="+utm_medium+"; "+expires+'; domain=.mamaclub.com; path=/';;_MMC_HELPER.a_commentBox_elem.on('click','.edit_comment',function(){var hidden_block=$('#hidden-for-edit').show();hidden_block.attr('id','');var comment_id=$(this).attr('data-comment-id');var content=$(this).parent().prev().prev().html().replace(/(<([^>]+)>)/ig,"");$(this).parent().parent().attr('id','hidden-for-edit');$(this).parent().parent().hide();$('.c_b-c-textarea').children().val(content);$('.c_b-c-textarea').append('<input type="hidden" id="edit_comment_id" name="comment_id" value="'+comment_id+'">');});_MMC_HELPER.a_commentBox_elem.on('click','.del_comment',function(){if(confirm("確定刪除留言嗎？")){var comment_id=$(this).attr('data-comment-id');var this_comment=$(this).parent().parent();var url='/api/comment';$.ajax({url:url,dataType:'json',type:'post',data:{'type':'comment','m':'del','comment_id':comment_id},success:function(data){console.log('data:'+data);this_comment.hide();},error:commentsErrorHandle});}});_MMC_HELPER.a_commentBox_elem.on('click','.c_b-more',function(){var current_page=$(this).parents('#comment_box').find('.comment_box').attr('data-comment-page');getCommentsMore(current_page);$(this).addClass('loading');gaEventTrace('看更多留言-'+_MMC.article.post_id,'文章留言');});_MMC_HELPER.a_commentBox_elem.on('keyup','.c_b-comment .c_b-c-textarea textarea',function(){var submit_elem=$(this).parents('.c_b-comment').find('.c_b-c-submit');if($(this).val()!='')submit_elem.removeClass('disable');else submit_elem.addClass('disable');});_MMC_HELPER.a_commentBox_elem.on('click','.c_b-comment .c_b-c-submit:not(.disable)',function(){var comment_id=$('#edit_comment_id').val();var comment_box_elem=_MMC_HELPER.a_commentBox_elem.find('.comment_box');var comment_textarea_elem=comment_box_elem.find('.c_b-comment .c_b-c-textarea textarea');var comment=comment_textarea_elem.val();var comment_input_anonymous=comment_box_elem.find('.c_b-comment .c_b-c-anonymous input[name=anonymous]');if(comment!=''){if(comment_box_elem.hasClass('can_anonymous')){comment_anonymous=(comment_input_anonymous.prop('checked'))?1:0;}
if(comment_id!=undefined){editComment(comment,comment_id);}else{putComment(comment);}
comment_textarea_elem.val('');comment_input_anonymous.prop("checked",false);$(this).addClass('disable');}});_MMC_HELPER.a_commentBox_elem.on('click','.c_b-comment .c_b-c-login.call_login',function(){gaEventTrace('未登入留言-'+_MMC.article.post_id,'文章留言');});var getComments=function(can_anonymous){var url='/api/comment?can_anonymous='+can_anonymous;$.ajax({url:url,dataType:'json',type:'post',data:{'type':'comment','m':'lite','post_id':_MMC.article.post_id,'is_asc':1},success:renderComments,error:commentsErrorHandle});}
var renderComments=function(comments){var can_anonymous=this.url.match(/can_anonymous=([\w]+)/);can_anonymous=(can_anonymous!=null)?can_anonymous[1]:false;var comments_total=comments.count;var comments_data=comments.data;var no_comment=(typeof comments_data=='undefined')?1:0;var comments_current=(!no_comment&&comments_data.length>0)?comments_data.length:'0';var comments_page=0;var comment="";var template_comment=_MMC_HELPER.getTemplate('article_comment');template_comment=template_comment.replace(/\[ARTICLE_COMMENT_PAGE\]/g,comments_page);template_comment=template_comment.replace(/\[ARTICLE_COMMENTS_TOTAL\]/g,comments_total);template_comment=template_comment.replace(/\[ARTICLE_COMMENT_CURRENT\]/g,comments_current);template_comment=template_comment.replace(/\[ARTICLE_COMMENT_MORE_HIDE\]/g,(comments_total>comments_current)?'':'display-none');if(!no_comment){for(var i=(comments_current-1);i>=0;i--){var new_comment=createComment(comments.data[i]);comment+=new_comment;}
template_comment=template_comment.replace(/\[ARTICLE_COMMENTS\]/g,comment);}else{template_comment=template_comment.replace(/\[ARTICLE_COMMENTS\]/g,'');}
_MMC_HELPER.a_commentBox_elem.html(template_comment);if(can_anonymous)_MMC_HELPER.a_commentBox_elem.find('.comment_box').addClass('can_anonymous');_MMC_HELPER.fadeIn(_MMC_HELPER.a_commentBox_elem);};var getCommentsMore=function(page){var url='/api/comment';$.ajax({url:url,dataType:'json',type:'post',data:{'type':'comment','m':'full','post_id':_MMC.article.post_id,'comment_paged':page,'is_asc':0},success:renderCommentsMore,error:commentsErrorHandle});}
var renderCommentsMore=function(comments){console.log('renderCommentsMore');var comment_box_elem=_MMC_HELPER.a_commentBox_elem.find('.comment_box');var comments_total=comments.count;var comments_data=comments.data;if(typeof comments_data=='undefined'){comment_box_elem.find('.c_b-more').addClass('display-none');return;}
var comments_current=(comments_data.length>0)?comments_data.length:'0';var comments_page=parseInt(comment_box_elem.attr('data-comment-page'))+1;if(comments_current>0){var comment="";for(var i=(comments_current-1);i>=0;i--){if(comment_box_elem.find('.c_b-history .c_b-h-list .c_b-h-l-item[data-comment-id='+comments.data[i].comment_ID+']').length>0)
continue;var more_comment=createComment(comments.data[i]);comment+=more_comment;}
comment_box_elem.find('.c_b-history .c_b-h-list').prepend(comment);}
comments_current=parseInt(comment_box_elem.attr('data-comment-current'))+comments_current;if(comments_total>comments_current){comment_box_elem.find('.c_b-more').removeClass('display-none');}else{comment_box_elem.find('.c_b-more').addClass('display-none');}
comment_box_elem.attr('data-comment-page',comments_page);comment_box_elem.attr('data-comment-total',comments_total);comment_box_elem.attr('data-comment-current',comments_current);_MMC_HELPER.a_commentBox_elem.find('.c_b-more').removeClass('loading');};var editComment=function(content,comment_id){content1=content.replace(/\r\n/g,"\n").replace(/\n\n/g,"<br /><br />").replace(/\n/g,"<br />");var comment_author=_MMC.user.display_name;var dt=new Date();var dt_month=dt.getMonth()+1;dt_month=(dt_month<10)?"0"+dt_month:dt_month;var dt_date=(dt.getDate()<10)?"0"+dt.getDate():dt.getDate();var time=dt.getFullYear()+'-'+dt_month+'-'+dt_date+' '+dt.getHours()+':'+dt.getMinutes()+':'+dt.getSeconds();if(comment_anonymous)comment_author="匿名";var url='/api/comment';$.ajax({url:url,dataType:'json',type:'post',data:{'type':'comment','m':'edit','comment_id':comment_id,'content':content1,"isAnonymous":comment_anonymous},success:function(data){console.log(data);var hidden_block=$('#hidden-for-edit').children('.c_b-h-l-i-content').children().html(content1);$('#hidden-for-edit').show();$('#hidden-for-edit').attr('id','');},error:commentsErrorHandle});}
var putComment=function(content){content1=_MMC_HELPER.replaceCRLF(content);var comment_author=_MMC.user.display_name;var dt=new Date();var dt_month=dt.getMonth()+1;dt_month=(dt_month<10)?"0"+dt_month:dt_month;var dt_date=(dt.getDate()<10)?"0"+dt.getDate():dt.getDate();var time=dt.getFullYear()+'-'+dt_month+'-'+dt_date+' '+dt.getHours()+':'+dt.getMinutes()+':'+dt.getSeconds();if(comment_anonymous)comment_author="匿名";var comment_data={'comment_ID':0,'comment_author':comment_author,'comment_content':content1,'comment_date':time,'is_anonymous':comment_anonymous};var new_comment=createComment(comment_data);var comment_box_elem=_MMC_HELPER.a_commentBox_elem.find('.comment_box');comment_box_elem.find('.c_b-history .c_b-h-list').append(new_comment);var new_comment_total=parseInt(comment_box_elem.attr('data-comment-total'))+1;var new_comment_current=parseInt(comment_box_elem.attr('data-comment-current'))+1;comment_box_elem.attr('data-comment-total',new_comment_total);comment_box_elem.attr('data-comment-current',new_comment_current);if(comment_anonymous)gaEventTrace('匿名留言-'+_MMC.article.post_id,'文章留言');else gaEventTrace('留言-'+_MMC.article.post_id,'文章留言');var url='/api/comment';$.ajax({url:url,dataType:'json',type:'post',data:{'type':'comment','m':'post','post_id':_MMC.article.post_id,'content':content,"isAnonymous":comment_anonymous},success:renderCommentsPut,error:commentsErrorHandle});}
var renderCommentsPut=function(comment){return;return;};var createComment=function(comment){var template_comment_item=_MMC_HELPER.getTemplate('article_comment_item');var comment_id=comment.comment_ID;var user_id=comment.user_id;var comment_author=comment.comment_author;var comment_content=comment.comment_content;var comment_update=comment.comment_date;template_comment_item=template_comment_item.replace(/display-none/g,'');template_comment_item=template_comment_item.replace(/\[ARTICLE_COMMENT_IS_ANONYMOUS\]/g,(comment_anonymous==1)?'is_anonymous':'');template_comment_item=template_comment_item.replace(/\[ARTICLE_COMMENT_ID\]/g,comment_id);template_comment_item=template_comment_item.replace(/\[ARTICLE_COMMENT_AUTHOR\]/g,comment_author);template_comment_item=template_comment_item.replace(/\[ARTICLE_COMMENT_CONTENT\]/g,comment_content);template_comment_item=template_comment_item.replace(/\[ARTICLE_COMMENT_UPDATE\]/g,_MMC_HELPER.convertDate(comment_update));return template_comment_item;}
var commentsErrorHandle=function(response){console.log("ERRORCOMMENTS");console.log(response);return;}
var comment_anonymous=0;;_MMC_HELPER.a_surver_elem.on('click','.as.question .as-button',function(){var yn=$(this).attr('data-value');var yn_text=(yn=='Y')?'有幫助':'沒幫助';var survey_box_elem=$(this).parents('.as-box');var ques_id=survey_box_elem.attr('data-ques-id');var ques_title=$.trim($(this).parents('.as.question').find('.title').html());var y_count=parseInt(survey_box_elem.attr('data-ques-y'));var n_count=parseInt(survey_box_elem.attr('data-ques-n'));if(yn=='Y'){y_count=y_count+1;survey_box_elem.attr('data-ques-y',y_count);}else{n_count=n_count+1;survey_box_elem.attr('data-ques-n',n_count);}
if(ques_id=='1'){gaEventTrace('文章-'+_MMC.article.post_id+' | '+yn_text,'是否有幫助');}else{gaEventTrace('文章-'+_MMC.article.post_id+' | '+ques_title+' | '+yn_text,'是否有幫助_plus');var new_response_text='感謝您提供寶貴的意見！';var yn_count=y_count+n_count;var yn_percent=y_count/yn_count;if(yn_count>10){new_response_text=_MMC.article.survey_plus.response;new_response_text=new_response_text.replace(/\[PERCENT\]/,parseInt(yn_percent*100)+'%');if(yn=='N'){new_response_text=new_response_text.replace(/也/,'');survey_box_elem.find('.as.finished .title').html(new_response_text);}}
survey_box_elem.find('.as.finished .title').html(new_response_text);}
survey_box_elem.addClass('surveyed');var survey_ans={'post_id':_MMC.article.post_id,'ques_id':ques_id,'yn':yn};doSurvey(survey_ans);});_MMC_HELPER.a_surver_elem.on('click','.as.finished .as-related .as-related-ul .as-related-ul-li .as-related-ul-li-a',function(){var survey_item_post_id=$(this).parents('.as-related-ul-li').attr('data-post-id');gaEventTrace('從 '+_MMC.article.post_id+' 到 '+survey_item_post_id,'是否有幫助');});var doSurvey=function(survey_ans){var url='/api/survey'+'?post_id='+survey_ans.post_id+'&ques_id='+survey_ans.ques_id+'&yn='+survey_ans.yn+'&__r='+(new Date()).getTime();$.ajax({url:url,type:'get',success:doneSurvey,error:doSurveyErrorHandle});}
var doneSurvey=function(response){}
function doSurveyErrorHandle(response){console.log('ERRORDOARTICLESURVEY');console.log(response);return;};_MMC_HELPER.a_chatMatch_elem.on('click','.cm-box .cm-list-box .cm-list .cm-list-item .cm-list-item-a',function(){var chat_match_item_title=$(this).html().trim();gaEventTrace('從 '+_MMC.article.post_id+' 到 "'+chat_match_item_title+'"','大家都在討論');});var getChatMatch=function(){if(!_MMC.article.chat_cat_id)
return false;var url="https://cdn.mamaclub.com/appdata/chat/"+_MMC.article.chat_cat_id+".js";$.ajax({url:url,dataType:'jsonp',jsonpCallback:'chat'+_MMC.article.chat_cat_id,crossDomain:true,success:renderChatMatch,error:chatMatchErrorHandle});}
var renderChatMatch=function(data){if(data.length>0){data=_MMC_HELPER.arrayShuffle(data);var template_chat_match=_MMC_HELPER.getTemplate('article_chat_match');var template_chat_match_item=_MMC_HELPER.getTemplate('article_chat_match_item');var chat_match_items="";var max_length=(data.length>5)?5:data.length;var utm_prm='&utm_source=traffic.mmc&utm_medium=chat_match_post&utm_campaign=post';for(var i=0;i<max_length;i++){var template_chat_match_item1=template_chat_match_item;var chat_match_title=data[i].title;var chat_match_url=data[i].url+utm_prm;template_chat_match_item1=template_chat_match_item1.replace(/\[CHAT_MATCH_TITLE\]/g,chat_match_title);template_chat_match_item1=template_chat_match_item1.replace(/\[CHAT_MATCH_LINK\]/g,chat_match_url);template_chat_match_item1=template_chat_match_item1.replace(/data\-href/g,'href');template_chat_match_item1=template_chat_match_item1.replace(/amigo/g,'a');chat_match_items+=template_chat_match_item1;}
template_chat_match=template_chat_match.replace(/\[CHAT_MATCH_ITEMS\]/g,chat_match_items);_MMC_HELPER.a_chatMatch_elem.html(template_chat_match);_MMC_HELPER.fadeIn(_MMC_HELPER.a_chatMatch_elem);}}
var chatMatchErrorHandle=function(response){console.log("ERRORCHATMATCH");console.log(response);return;};_MMC_HELPER.wrapper_elem.on('click','.article.infinity_post .m-action',function(){var pid=$(this).closest('.infinity_post').attr('data-article-id');var url='/?p='+pid+'&utm_source=traffic.mmc&utm_medium=infinity_post&utm_campaign=post';gaEventTrace(pid,'文章無限瀏覽-點擊');location.href=url;})
var infinityView=function(){_MMC_HELPER.body_elem.addClass('infiniting');var url='/api/infinity-post';$.ajax({url:url,type:'post',dataType:'json',data:{'skip_id':infinity_skip_pid,'main_id':_MMC.article.post_id},success:renderInfinityView,error:infinityViewErrorHandle});}
var renderInfinityView=function(data){if(typeof data.post_id!='undefined'){infinity_count++;var template;var ip_type=data.ip_type;var ip_class='done';var ip_id=data.post_id;var ip_url=data.post_url;var ip_title=data.post_title;var ip_featured='';if(data.featured_image)ip_featured=data.featured_image.replace(/http:/,'https:');if(ip_type=='post'||ip_type=='post-asf'){if(ip_type=='post')template=_MMC_HELPER.getTemplate('article_infinity_post');else template=_MMC_HELPER.getTemplate('article_infinity_post_asf');var ip_modified=_MMC_HELPER.convertDate(data.post_modified);var ip_aid=data.author_id;var ip_aname=data.author_name;var ip_alink=data.author_link;var ip_aavatar=data.author_avatar;var ip_context=data.post_content.replace(/http:/g,'https:');template=template.replace(/\[IP_ANAME\]/g,ip_aname);template=template.replace(/\[IP_ALINK\]/g,ip_alink);template=template.replace(/\[IP_AAVATAR\]/g,ip_aavatar);template=template.replace(/\[IP_MODIFIED\]/g,ip_modified);template=template.replace(/\[IP_CONTEXT\]/g,ip_context);template=template.replace(/data\-href/g,'href');template=template.replace(/amigo/g,'a');}else if(ip_type=='event-trial'){template=_MMC_HELPER.getTemplate('article_infinity_event_trial');template=template.replace(/\[IP_TRIAL_JOINERS\]/g,_MMC_HELPER.convertNumber(data.trial_info.join));template=template.replace(/\[IP_TRIAL_VENDOR\]/g,data.trial_info.detail.meta_title);}else if(ip_type=='collection'){template=_MMC_HELPER.getTemplate('article_infinity_collection');}
ip_class+=' '+ip_id;template=template.replace(/\[IP_CLASS\]/g,ip_class);template=template.replace(/\[IP_PATH\]/g,ip_url);template=template.replace(/\[IP_ID\]/g,ip_id);template=template.replace(/\[IP_FEATURED\]/g,ip_featured);template=template.replace(/\[IP_TITLE\]/g,ip_title);template=template.replace(/data\-src/g,'src');infinity_skip_pid+=","+ip_id;_MMC_HELPER.body_elem.attr('data-infinity',infinity_count);$('.infinity_from_here').last().addClass('_'+infinity_count).after(template);if(_MMC.site.env=='production'){ga('mamaclub.send',{hitType:'pageview',page:ip_url,title:ip_title+'｜媽媽經｜專屬於媽媽的網站'});ga('mamaclubMobile.send',{hitType:'pageview',page:ip_url,title:ip_title+'｜媽媽經｜專屬於媽媽的網站'});}
gaEventTrace(ip_id,"Post",ip_title+"|||"+data.editor_id+"|||"+ip_aid);gaEventTrace(ip_id,"Editor",ip_title);gaEventTrace(ip_id,"Writer",ip_title);gaEventTrace(ip_type+'-'+ip_id,'文章無限瀏覽');if(typeof _atrk_fired!="undefined"){_atrk_fired=false;atrk();}
var timestamp=Number(new Date());var comScoreUrl='https://sb.scorecardresearch.com/b?c1=2&c2=17564697&c3=&c4=&c5=&c6=&c7='+encodeURIComponent(location.href)+'&c8='+encodeURIComponent(document.title)+'&c9=&c15=&cv=2.0&cj=1&cb='+timestamp;$('body').append('<img src="'+comScoreUrl+'" style="display:none;">');}
_MMC_HELPER.body_elem.removeClass('infiniting');}
var infinityViewErrorHandle=function(response){console.log("ERRORINFINITYVIEW");console.log(response);return;}
var infinity_skip_pid=_MMC.article.post_id;var infinity_count=0;;_MMC_HELPER.floatingAD_elem.on('click','.f_a-btn',function(){var floating_name;if($(this).hasClass('with_ad')){floating_name='打開AD';var outer_elem=_MMC_HELPER.floatingAD_elem.find('.f_a-outer.with_ad');var outer_iframe=outer_elem.find('iframe');if(outer_iframe.attr('src')!=outer_iframe.attr('data-src'))
outer_iframe.attr('src',outer_iframe.attr('data-src'));_MMC_HELPER.fadeIn(outer_elem);}else if($(this).hasClass('with_cookie')){floating_name=_MMC.floating_ad.name;}else if($(this).hasClass('with_collicon')){var outer_elem=_MMC_HELPER.floatingAD_elem.find('.f_a-outer.with_collicon');var coll_name=$(this).attr('data-name');floating_name='集點送_'+coll_name;callFloatingCollicon(outer_elem,_MMC.collicon.coll_id,'save');}
gaEventTrace(floating_name+'-'+_MMC.article.post_id,'推廣標籤');});_MMC_HELPER.floatingAD_elem.on('click','.f_a-close',function(){var floating_name;var outer_elem=_MMC_HELPER.floatingAD_elem.find('.f_a-outer');if(outer_elem.hasClass('with_collicon')){outer_elem.addClass('already');var coll_name=_MMC_HELPER.floatingAD_elem.find('.f_a-btn').attr('data-name');floating_name='關閉集點送_'+coll_name;if(outer_elem.hasClass('saved'))_MMC_HELPER.floatingAD_elem.removeClass('show');if(!outer_elem.hasClass('view')&&!outer_elem.find('.collicon_campaign').hasClass('unlogin')&&!_MMC_HELPER.isset(_MMC_HELPER.getCookie('tutorial_collicon'))){_MMC_HELPER.window_elem.scrollTop(_MMC_HELPER.window_elem.scrollTop()-1);}}else{floating_name='關閉AD';}
_MMC_HELPER.fadeOut(outer_elem);gaEventTrace(floating_name+'-'+_MMC.article.post_id,'推廣標籤');});_MMC_HELPER.floatingAD_elem.on('click','.collicon_campaign .c_c-banner a:not(.disable)',function(){$(this).find('.c_c-cta').trigger('click');});_MMC_HELPER.floatingAD_elem.on('click','.collicon_campaign .c_c-unlogin',function(){var action;if($(this).closest('.collicon_campaign').hasClass('save'))aciton='save';else aciton='view';_MMC_HELPER.setCookie('login_collicon_'+aciton,_MMC.collicon.coll_id);});_MMC_HELPER.h_hamburger_elem.on('click','.collicon a',function(){var outer_elem=_MMC_HELPER.floatingAD_elem.find('.f_a-outer.with_collicon');var c_id='';outer_elem.addClass('view');if(_MMC_HELPER.body_elem.hasClass('not_login'))callFloatingCollicon(outer_elem,c_id,'unlogin');else callFloatingCollicon(outer_elem,c_id);});var enableFloatingAD=function(enable){if(_MMC.article.show_ad){var floating_name;if(_MMC.collicon.mode){floating_name='集點送_'+_MMC.collicon.coll_name;}else{if(_MMC.floating_ad){floating_name=_MMC.floating_ad.name;_MMC_HELPER.setCookie(_MMC.floating_ad.cookie,'1');}else{floating_name='浮動推廣';}}
if(typeof enable=='undefined')var enable=1
if(!_MMC_HELPER.floatingAD_elem.hasClass('disable')){if(enable)_MMC_HELPER.floatingAD_elem.addClass('enable');else _MMC_HELPER.floatingAD_elem.removeClass('enable');}
gaEventTrace(floating_name+'-'+_MMC.article.post_id,'推廣標籤曝光');}}
var buildCollicon=function(elem,id,action){var coll_class='';if(_MMC_HELPER.body_elem.hasClass('not_login'))coll_class+=' unlogin';if(action=='save')coll_class+=' save';else coll_class+=' view';var url='/api/icon/view?coll_id='+id+'&__r='+(new Date()).getTime();$.ajax({url:url,type:'get',dataType:'json'}).done(function(response){if(response.success){var template=_MMC_HELPER.getTemplate('article_collicon');var coll_id=response.coll_id;var coll_name=response.coll_name;var coll_point=response.coll_point;var coll_url=response.coll_url;var coll_banner='/assets/learn/images/collicon/'+coll_id+'/banner.png';var coll_icon='/assets/learn/images/collicon/'+coll_id+'/icon.png';if(action=='save')coll_point=parseInt(coll_point)+1;template=template.replace(/\[COLL_ID\]/g,coll_id);template=template.replace(/\[COLL_CLASS\]/g,coll_class);template=template.replace(/\[COLL_BANNER\]/g,coll_banner);template=template.replace(/\[COLL_ICON\]/g,coll_icon);template=template.replace(/\[COLL_NAME\]/g,coll_name);template=template.replace(/\[COLL_POINT\]/g,coll_point);template=template.replace(/\[COLL_URL\]/g,coll_url);template=template.replace(/data\-src/g,'src');template=template.replace(/data\-href/g,'href');template=template.replace(/amigo/g,'a');if(elem.hasClass('mmc_collicon'))$('#mmc_collicon_name').html(coll_name);elem.html(template);}else{elem.html('目前沒有正在進行的活動');}});}
var callFloatingCollicon=function(elem,id,action){if(typeof action=='undefined'){var action='view';}
if(typeof id=='undefined'){var id='';}
var outer_elem=elem;if(elem.hasClass('already')){if(action=='save')outer_elem.find('.collicon_campaign').addClass('save').removeClass('view');else outer_elem.find('.collicon_campaign').addClass('view').removeClass('save');_MMC_HELPER.fadeIn(outer_elem);}else{var content_elem=outer_elem.find('.f_a-inner .f_a-content');var coll_id=id;buildCollicon(content_elem,coll_id,action);_MMC_HELPER.fadeIn(outer_elem);if(action=='save'&&!_MMC_HELPER.body_elem.hasClass('not_login')){outer_elem.addClass('saved');var url='/api/icon/save?post_id='+_MMC.article.post_id+'&coll_id='+coll_id+'&coll_pwd='+_MMC.collicon.coll_pwd+'&__r='+(new Date()).getTime();$.ajax({url:url,type:'get',dataType:'json'}).done(function(response){return;});}}}
var closeForCollicon=function(){_MMC_HELPER.setCookie('tutorial_collicon',1);}
if(typeof viewCollicon!='undefined'){var collicon_in_post=viewCollicon;var shortcode_coll_elem=$('#mmc_collicon');buildCollicon(shortcode_coll_elem,collicon_in_post,'view');shortcode_coll_elem.addClass('__p_lr_').addClass('__p_tb_');}
if(!_MMC_HELPER.body_elem.hasClass('not_login')){var after_login_action,after_login_id;if(_MMC_HELPER.isset(_MMC_HELPER.getCookie('login_collicon_save'))){after_login_action='save';after_login_id=_MMC.collicon.coll_id;_MMC_HELPER.removeCookie('login_collicon_save');}else if(_MMC_HELPER.isset(_MMC_HELPER.getCookie('login_collicon_view'))){after_login_action='view';_MMC_HELPER.removeCookie('login_collicon_view');}
if(_MMC_HELPER.isset(after_login_action)){callFloatingCollicon(_MMC_HELPER.floatingAD_elem.find('.f_a-outer.with_collicon'),after_login_id,after_login_action);if(after_login_action=='save')_MMC_HELPER.floatingAD_elem.addClass('disable');}};var call_actionbar=function(_id){_MMC_HELPER.actionBar_elem.find('.action_bar-button.external').trigger('click');gaEventTrace('按鈕_'+_id,'文章內開_action_bar');}
_MMC_HELPER.actionBar_elem.on('click','.action_bar-title.go_tag',function(){if($("#main_tag").length>0){_MMC_HELPER.htmlbody_elem.animate({scrollTop:$("#main_tag").offset().top-70},1500);}});_MMC_HELPER.a_mainContext_elem.on('click','._call_actionbar',function(){var _id=$(this).attr('data-id');call_actionbar(_id);});_MMC_HELPER.actionBar_elem.on('click','.action_bar-button',function(){if($(this).hasClass('external')){if((_MMC.article.post_id=='235706'||_MMC.article.post_id=='239438'||_MMC.article.post_id=='253048'||_MMC.article.post_id=='259548'||_MMC.article.post_id=='263972')&&!_MMC.user.is_login){_MMC_HELPER.setCookie('open-action_bar_form',1);_MMC_HELPER.doLogin();}else{_MMC_HELPER.slide2Center(_MMC_HELPER.actionBar_elem.find('.action_bar-form'));_MMC_HELPER.body_elem.addClass('disable_scroll');}}
var button_text=$(this).find('a').html().trim();var name=_MMC_HELPER.actionBar_elem.attr('data-name');var ab=_MMC_HELPER.actionBar_elem.attr('data-ab');if(ab=='a'){gaEventTrace(name+'-文章-'+_MMC.article.post_id+'('+button_text+')','文章_action_bar_A');}else if(ab=='b'){gaEventTrace(name+'-文章-'+_MMC.article.post_id+'('+button_text+')','文章_action_bar_B');}else{gaEventTrace('文章-'+_MMC.article.post_id+'('+button_text+')','文章_action_bar');}});_MMC_HELPER.actionBar_elem.on('click','.action_bar-button',function(){fbq('trackCustom','ActionBar',{name:_MMC.article.action_bar.name});})
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form .header-exit',function(){_MMC_HELPER.body_elem.removeClass('disable_scroll');_MMC_HELPER.slide2Right($(this).parents('.action_bar-form'));var name=_MMC_HELPER.actionBar_elem.attr('data-name');gaEventTrace(name+'-文章-'+_MMC.article.post_id+'-關閉選購方案','文章_action_bar');})
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form .main-item._submit .item-content',function(){var name=_MMC_HELPER.actionBar_elem.attr('data-name');var options=_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options');if(options!=''){if(_MMC.article.post_id==253048&&$(this).closest('.form_box-main').hasClass('_step1')){$(this).closest('.form_box-main').removeClass('_step1').addClass('_step2');_MMC_HELPER.scrollToElem({elem:$('.main-item._title'),wrap:_MMC_HELPER.actionBar_elem.find('.action_bar-form_box .form_box-main')});gaEventTrace('下一步加購_btn','__WMF');return;}
gaEventTrace(name+'-文章-'+_MMC.article.post_id+', '+options,'文章_action_bar');if($(this).closest('.action_bar-form').hasClass('_new')){do_new_submit();}}})
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form .main-item._option .item-btn',function(){var val=$(this).val();var option_elem=$(this).closest('._option');option_elem.addClass('_selected').attr('data-option',val);check_action_bar_form();})
var check_action_bar_form=function(){var options='';var done=false;_MMC_HELPER.actionBar_elem.find('.main-item._option._selected').each(function(index){options+=$(this).attr('data-option')+'-';if($('.main-item._option').length==index+1)done=true;});options=options.substring(0,options.length-1);if(done){var action_bar_form_elem=_MMC_HELPER.actionBar_elem.find('.action_bar-form_box');action_bar_form_elem.attr('data-options',options);var price=_MMC_HELPER.formatNumber(_MMC.article.action_bar.form.content.url_data[options].price);var url=_MMC.article.action_bar.form.content.url_data[options].url;action_bar_form_elem.find('.main-item._price .item-content div').html(price);action_bar_form_elem.find('.main-item._submit .item-content a').attr('href',url);}
return;}
function enableActionBar(enable){if(typeof enable=='undefined')var enable=1
if(enable)_MMC_HELPER.actionBar_elem.addClass('enable');else _MMC_HELPER.actionBar_elem.removeClass('enable');}
if((typeof open_action_bar_form!='undefined'&&open_action_bar_form)||_MMC_HELPER.getCookie('open-action_bar_form')!=''){enableActionBar();call_actionbar();_MMC_HELPER.removeCookie('open-action_bar_form');}
if(_MMC.article.action_bar.force){enableActionBar();}
if(_MMC.article.post_id==239438){var action_bar_form_new_list=[{name:'十層澎澎紗純棉紗布浴巾 120x95cm',price:'918',type:{0:'粉藍色',1:'粉紅色',2:'白色'}},{name:'六層澎澎紗純棉紗布浴巾 95x95cm',price:'663',type:{0:'粉藍色',1:'粉紅色',2:'白色'}},{name:'十層澎澎紗純棉紗布小方巾 24*24cm (6入組)',price:'918',type:{0:'顏色隨機'}}];_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .item-product .i-p-select',function(){console.log('product item type');if($(this).hasClass('selected'))return;$(this).addClass('selected');var item_elem=$(this).closest('.item-product');var item_elem_cart=$(this).closest('.action_bar-form').find('.main-item._cart');var product=item_elem.attr('data-product');var type=$(this).attr('data-type');var total=parseInt(item_elem_cart.attr('data-total'));var new_total=total+1;item_elem_cart.attr('data-total',new_total);build_cart(product,type);_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options',0);_MMC_HELPER.scrollToElem({elem:$('.main-item._cart .item-cart').last(),wrap:_MMC_HELPER.actionBar_elem.find('.action_bar-form_box .form_box-main')});});var build_cart=function(product,type){var template=_MMC_HELPER.getTemplate('action_bar_new_item');var item_product=product;var item_type=type;var item_name=action_bar_form_new_list[product].name;var item_price=action_bar_form_new_list[product].price;var item_types='';var item_id=(new Date()).getTime();item_types='<span class="i-c-select" data-type="'+item_type+'">'+action_bar_form_new_list[item_product].type[item_type]+'</span>';template=template.replace(/\[ITEM_ID\]/g,item_id);template=template.replace(/\[ITEM_PRODUCT\]/g,item_product);template=template.replace(/\[ITEM_TYPE\]/g,item_type);template=template.replace(/\[ITEM_NAME\]/g,item_name);template=template.replace(/\[ITEM_PRICE\]/g,item_price);template=template.replace(/\[ITEM_TYPES\]/g,item_types);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart ._total').before(template);var _cart={product:item_product,type:item_type,count:1}
cart_list[item_id]=_cart;sum_all();}
var cart_list={};_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart ._del',function(){console.log('cart item delete');if(confirm('刪除此項?')){var item_elem=$(this).closest('.item-cart');var cart_id=item_elem.attr('data-id');var cart_product=item_elem.attr('data-product');var cart_type=item_elem.attr('data-type');var cart_price=parseInt(item_elem.attr('data-price'));var cart_elem=item_elem.closest('.main-item._cart');var cart_total=parseInt(cart_elem.attr('data-total'));var new_cart_total=((cart_total-1)<0)?0:cart_total-1;cart_elem.attr('data-total',new_cart_total);if(new_cart_total==0)_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options','');var product_elem=item_elem.closest('.form_box-main').find('.main-item._product');product_elem.find('.item-product[data-product="'+cart_product+'"] .i-p-select[data-type="'+cart_type+'"]').removeClass('selected');item_elem.remove();var total_price=parseInt(_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price'));var new_total_price=total_price-cart_price;_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price',new_total_price);delete cart_list[cart_id];sum_all();}});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart .i-c-type span',function(){console.log('cart type update');return;var type=$(this).attr('data-type');var item_elem=$(this).closest('.item-cart');item_elem.attr('data-type',type);var cart_id=item_elem.attr('data-id');cart_list[cart_id].type=type;});}
if(_MMC.article.post_id==253048&&_MMC_HELPER.isset(wmf_product)){var action_bar_form_new_list=wmf_product;_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._floor ._floor_left',function(){_MMC_HELPER.actionBar_elem.find('.action_bar-form_box .form_box-main').removeClass('_step2').addClass('_step1');gaEventTrace('上一頁_tab','__WMF');});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .tablinks',function(){if($(this).hasClass('active'))return;var _tabs=$(this).closest('.tab').find('.tablinks');var _tab=$(this).attr('data-tab');var _parent_elem=$(this).closest('.action_bar-form').find('.main-item._product:not(._others)');var _products=_parent_elem.find('.item-products');var _product=_parent_elem.find('.'+_tab);_tabs.removeClass('active');_products.removeClass('active');$(this).addClass('active');_product.addClass('active');if($(this).attr('data-tab')=='_wmf_single'){gaEventTrace('單品_tab','__WMF');}else if($(this).attr('data-tab')=='_wmf_mix'){gaEventTrace('組合_tab','__WMF');}})
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart .i-c-tag',function(){$('.tablinks[data-tab=_wmf_mix]').trigger('click');});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .item-product',function(){console.log('product item type');if($(this).hasClass('selected'))return;$(this).addClass('selected');$(this).delay(500).fadeOut('slow');var product=$(this).attr('data-product');var item_elem_cart=$(this).closest('.action_bar-form').find('.main-item._cart');var total=parseInt(item_elem_cart.attr('data-total'));var new_total=total+1;item_elem_cart.attr('data-total',new_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_total);build_cart(product);_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options',0);});var cart_list={};var build_cart=function(product,type){var template=_MMC_HELPER.getTemplate('action_bar_new_item');var item_product=product;var item_type='';var item_obj=action_bar_form_new_list[product];var item_name=item_obj.name;var item_price=_MMC_HELPER.formatNumber(item_obj.price);var item_types='';var item_id=(new Date()).getTime();item_types+='<img class="i-c-img" src="/assets/learn/images/_wmf/'+item_product+'.jpg">';template=template.replace(/\[ITEM_ID\]/g,item_id);template=template.replace(/\[ITEM_PRODUCT\]/g,item_product);template=template.replace(/\[ITEM_TYPE\]/g,item_type);template=template.replace(/\[ITEM_NAME\]/g,item_name);template=template.replace(/\[ITEM_PRICE\]/g,item_price);template=template.replace(/\[ITEM_TYPES\]/g,item_types);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart ._total').before(template);var _cart={product:item_product,count:1}
cart_list[item_id]=_cart;sum_all();}
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart ._del',function(){console.log('cart item delete');if(confirm('刪除此項?')){var item_elem=$(this).closest('.item-cart');var cart_id=item_elem.attr('data-id');var cart_product=item_elem.attr('data-product');var cart_type=item_elem.attr('data-type');var cart_price=parseInt(item_elem.attr('data-price'));var cart_elem=item_elem.closest('.main-item._cart');var cart_total=parseInt(cart_elem.attr('data-total'));var new_cart_total=((cart_total-1)<0)?0:cart_total-1;cart_elem.attr('data-total',new_cart_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_cart_total);if(new_cart_total==0)_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options','');var product_elem=item_elem.closest('.form_box-main').find('.main-item._product');product_elem.find('.item-product[data-product="'+cart_product+'"] .i-p-select[data-type="'+cart_type+'"]').removeClass('selected');product_elem.find('.item-product[data-product="'+cart_product+'"]').fadeIn();item_elem.remove();$('.item-product[data-product='+cart_product+']').removeClass('selected');var total_price=parseInt(_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price'));var new_total_price=total_price-cart_price;_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price',new_total_price);delete cart_list[cart_id];sum_all();}});}
if(_MMC.article.post_id==259548&&_MMC_HELPER.isset(__product)){var action_bar_form_new_list=__product;var checkTypeList=[];var checkType=function(_p_id,_stat){var __stat=_stat||'add';if(__stat=='add'){if(checkTypeList.indexOf(_p_id)>-1){return true;}
checkTypeList.push(_p_id);checkType(_p_id.split('')[0],'checkAll');}
if(__stat=='remove'){if(checkTypeList.indexOf(_p_id)>-1){checkTypeList.splice($.inArray(_p_id,checkTypeList),1);}
checkType(_p_id.split('')[0],'checkAll');}
if(__stat=='checkAll'){_MMC_HELPER.actionBar_elem.find('.item-product[data-product="'+_p_id+'"] .i-p-select').removeClass('selected');var _i=0;while(checkTypeList[_i]){var _p_id1=checkTypeList[_i].split('')[0];var _p_id2=checkTypeList[_i].split('')[1];_i++;_MMC_HELPER.actionBar_elem.find('.item-product[data-product="'+_p_id1+'"] .i-p-select[data-type="'+_p_id2+'"]').addClass('selected');}
return;}}
_MMC_HELPER.actionBar_elem.on('change','.action_bar-form._new .main-item._product .item-product .i-p-size select',function(){var _val=$(this).val();var _elem=$(this).closest('.item-product');_elem.attr('data-product',_val);_elem.find('.i-p-description').html(action_bar_form_new_list[_val]['description']);_elem.find('.i-p-price del').html(action_bar_form_new_list[_val]['orig_price']);_elem.find('.i-p-price span').html(action_bar_form_new_list[_val]['price']);checkType(_val,'checkAll');});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .item-product .i-p-select',function(){console.log('product item type');var item_elem=$(this).closest('.item-product');var product=item_elem.attr('data-product');var type=$(this).attr('data-type');if(checkType(product+type))return;var item_elem_cart=$(this).closest('.action_bar-form').find('.main-item._cart');var total=parseInt(item_elem_cart.attr('data-total'));var new_total=total+1;item_elem_cart.attr('data-total',new_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_total);item_elem_cart.attr('data-total',new_total);build_cart(product,type);_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options',0);});var build_cart=function(product,type){var template=_MMC_HELPER.getTemplate('action_bar_new_item');var item_product=product;var item_type=type;var item_name=action_bar_form_new_list[product].name;var item_price=action_bar_form_new_list[product].price;var item_types='';var item_id=(new Date()).getTime();item_types='<span class="i-c-select" data-type="'+item_type+'">'+action_bar_form_new_list[item_product].type[item_type]+'</span><img class="i-c-img" src="/assets/learn/images/_tsk/'+item_product+item_type+'.jpeg">';template=template.replace(/\[ITEM_ID\]/g,item_id);template=template.replace(/\[ITEM_PRODUCT\]/g,item_product);template=template.replace(/\[ITEM_TYPE\]/g,item_type);template=template.replace(/\[ITEM_NAME\]/g,item_name);template=template.replace(/\[ITEM_PRICE\]/g,item_price);template=template.replace(/\[ITEM_TYPES\]/g,item_types);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart ._total').before(template);var _cart={product:item_product,type:item_type,count:1}
cart_list[item_id]=_cart;sum_all();}
var cart_list={};_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart ._del',function(){console.log('cart item delete');if(confirm('刪除此項?')){var item_elem=$(this).closest('.item-cart');var cart_id=item_elem.attr('data-id');var cart_product=item_elem.attr('data-product');var cart_type=item_elem.attr('data-type');var cart_price=parseInt(item_elem.attr('data-price'));var cart_elem=item_elem.closest('.main-item._cart');var cart_total=parseInt(cart_elem.attr('data-total'));var new_cart_total=((cart_total-1)<0)?0:cart_total-1;cart_elem.attr('data-total',new_cart_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_cart_total);if(new_cart_total==0)_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options','');checkType(cart_product+cart_type,'remove')
item_elem.remove();var total_price=parseInt(_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price'));var new_total_price=total_price-cart_price;_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price',new_total_price);delete cart_list[cart_id];sum_all();}});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart .i-c-type span',function(){console.log('cart type update');return;var type=$(this).attr('data-type');var item_elem=$(this).closest('.item-cart');item_elem.attr('data-type',type);var cart_id=item_elem.attr('data-id');cart_list[cart_id].type=type;});}
if(_MMC.article.post_id==263972&&_MMC_HELPER.isset(__product)){var action_bar_form_new_list=__product;_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .tablinks',function(){if($(this).hasClass('active'))return;var _tabs=$(this).closest('.tab').find('.tablinks');var _tab=$(this).attr('data-tab');var _parent_elem=$(this).closest('.action_bar-form').find('.main-item._product:not(._others)');var _products=_parent_elem.find('.item-products');var _product=_parent_elem.find('.'+_tab);_tabs.removeClass('active');_products.removeClass('active');$(this).addClass('active');_product.addClass('active');if($(this).attr('data-tab')=='_nuk_single'){gaEventTrace('單品_tab','__NUK');}else if($(this).attr('data-tab')=='_nuk_mix'){gaEventTrace('組合_tab','__NUK');}});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._product .item-product .i-p-select',function(){console.log('product item type');var item_elem=$(this).closest('.item-product');var product=item_elem.attr('data-product');var type=$(this).attr('data-type');if($(this).hasClass('selected')){_MMC_HELPER.actionBar_elem.find('.main-item._cart .item-cart[data-product='+product+'][data-type='+type+'] .i-c-left._del').trigger('click');return;}
var in_cart_text='已加入購物車';if(product>6)in_cart_text=action_bar_form_new_list[product]['type'][type]+' '+in_cart_text;$(this).addClass('selected').text(in_cart_text);var item_elem_cart=$(this).closest('.action_bar-form').find('.main-item._cart');var total=parseInt(item_elem_cart.attr('data-total'));var new_total=total+1;item_elem_cart.attr('data-total',new_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_total);build_cart(product,type);_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options',0);});var build_cart=function(product,type){var template=_MMC_HELPER.getTemplate('action_bar_new_item');var item_product=product;var item_type=type;var item_name=action_bar_form_new_list[product].name;var item_price=action_bar_form_new_list[product].price;var item_types='';var item_id=(new Date()).getTime();if(item_product>6){item_types='<span class="i-c-select" data-type="'+item_type+'">'+action_bar_form_new_list[item_product].type[item_type]+'</span><img class="i-c-img" src="/assets/learn/images/_nuk/'+item_product+'.jpg">';}else{item_types='<img class="i-c-img" src="/assets/learn/images/_nuk/'+item_product+'.jpg">';}
template=template.replace(/\[ITEM_ID\]/g,item_id);template=template.replace(/\[ITEM_PRODUCT\]/g,item_product);template=template.replace(/\[ITEM_TYPE\]/g,item_type);template=template.replace(/\[ITEM_NAME\]/g,item_name);template=template.replace(/\[ITEM_PRICE\]/g,item_price);template=template.replace(/\[ITEM_TYPES\]/g,item_types);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart ._total').before(template);var _cart={product:item_product,type:item_type,count:1}
cart_list[item_id]=_cart;sum_all();}
var cart_list={};_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart ._del',function(){console.log('cart item delete');if(confirm('刪除此項?')){var item_elem=$(this).closest('.item-cart');var cart_id=item_elem.attr('data-id');var cart_product=item_elem.attr('data-product');var cart_type=item_elem.attr('data-type');var cart_price=parseInt(item_elem.attr('data-price'));var cart_elem=item_elem.closest('.main-item._cart');var cart_total=parseInt(cart_elem.attr('data-total'));var new_cart_total=((cart_total-1)<0)?0:cart_total-1;cart_elem.attr('data-total',new_cart_total);_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._floor ._floor_right span').html(new_cart_total);if(new_cart_total==0)_MMC_HELPER.actionBar_elem.find('.action_bar-form_box').attr('data-options','');var product_elem=item_elem.closest('.form_box-main').find('.main-item._product');var revert_text='加入購物車';if(cart_product>6)revert_text=action_bar_form_new_list[cart_product]['type'][cart_type];product_elem.find('.item-product[data-product="'+cart_product+'"] .i-p-select[data-type="'+cart_type+'"]').removeClass('selected').text(revert_text);item_elem.remove();var total_price=parseInt(_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price'));var new_total_price=total_price-cart_price;_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart').attr('data-price',new_total_price);delete cart_list[cart_id];sum_all();}});_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart .i-c-type span',function(){console.log('cart type update');return;var type=$(this).attr('data-type');var item_elem=$(this).closest('.item-cart');item_elem.attr('data-type',type);var cart_id=item_elem.attr('data-id');cart_list[cart_id].type=type;});}
_MMC_HELPER.actionBar_elem.on('click','.action_bar-form._new .main-item._cart .item-cart .i-c-quantity span',function(){console.log('cart quantity update');if($(this).hasClass('_plus')){quantity_updat($(this).closest('.item-cart'),1);}else if($(this).hasClass('_minus')){quantity_updat($(this).closest('.item-cart'),0);}});var quantity_updat=function(elem,doPlus){var item_elem=elem;var cart_q=parseInt(item_elem.attr('data-quantity'));if(doPlus)var new_cart_q=((cart_q+1)>10)?10:cart_q+1;else var new_cart_q=((cart_q-1)<1)?1:cart_q-1;var q_elem=item_elem.find('._count');var cart_p=item_elem.attr('data-product');var cart_p_price=action_bar_form_new_list[cart_p].price;var new_cart_p_price=parseInt(cart_p_price)*new_cart_q;item_elem.attr('data-price',new_cart_p_price).find('.i-c-price').attr('data-price',_MMC_HELPER.formatNumber(new_cart_p_price));var cart_id=item_elem.attr('data-id');item_elem.attr('data-quantity',new_cart_q)
q_elem.html(new_cart_q);cart_list[cart_id].count=new_cart_q;sum_all();};var sum_all=function(){var elem=_MMC_HELPER.actionBar_elem.find('.action_bar-form._new .main-item._cart');var num=0;var count=elem.find('.item-cart').length;for(var i=0;i<count;i++){num+=parseInt(_MMC_HELPER.unFormatNumber(elem.find('.item-cart:eq('+i+')').attr('data-price')));}
elem.attr('data-price',num);elem.find('._total ._price').html(_MMC_HELPER.formatNumber(num));}
var do_new_submit=function(){console.log('do submit');var array=$.map(cart_list,function(value,index){var array2=$.map(value,function(value2,index2){$('#ec_form').append('<input type="hidden" name="'+index2+'[]" value="'+value2+'">');})})
$('#ec_form').submit();};function callDFPAD(id){var ad_elem=$('#'+id);if(ad_elem.length>0){if(typeof googletag.display=='undefined'){setTimeout(function(){callDFPAD(id)},500);return;}
googletag.display(id);var ad_wrapper_elem=ad_elem.parents('.ad_wrapper:not(.ad-cover)');_MMC_HELPER.fadeIn(ad_wrapper_elem);}
return;}
function closeCoverAD(){var current_ad=_MMC_HELPER.coverAD_elem.attr('data-ad');gaEventTrace('關閉蓋版-'+current_ad,'蓋版廣告');_MMC_HELPER.fadeOut(_MMC_HELPER.coverAD_elem);setTimeout(function(){$('#coverAD-'+current_ad).addClass('display-none');},300);if(_MMC.article.marquee.mode)getMarquee();}
function callReplaceAd(){console.log('show cover replace ad');_MMC_HELPER.coverAD_elem.attr('data-ad','replace');$('#coverAD-replace').attr('src',$('#coverAD-replace').attr('load-src'));};function callCrossAdDfp(){console.log('show cross ad - dfp');_MMC_HELPER.coverAD_elem.attr('data-ad','DFP');$('#coverAD-dfp').attr('src',$('#coverAD-dfp').attr('load-src'));};function callCrossAdCarousel(){if(typeof ad_carousel=="undefined"&&arguments.length==1){if(typeof ad_carousel_fail=="undefined")
ad_carousel_fail={};ad_carousel_fail[arguments[0]]=1;return;}
_MMC_HELPER.coverAD_elem.find('.coverAD').addClass('display-none');ad_carousel.ad_index++;if(ad_carousel.ad_index>=ad_carousel.ad_slot.length){callCrossAdClose();return;}
var ad=ad_carousel.ad_slot[ad_carousel.ad_index];if(_MMC.cross_ad.facebook==0&&ad=='facebook'){console.log('ignore cover facebook');callCrossAdCarousel();return;}
if(_MMC.cross_ad.doublemax==0&&ad=='doublemax'){console.log('ignore cover doublemax');callCrossAdCarousel();return;}
if(_MMC.cross_ad.tamedia==0&&ad=='tamedia'){console.log('ignore cover tamedia');callCrossAdCarousel();return;}
callCrossAD(ad);};function callCrossAD(ad){console.log('callCrossAD:'+ad);if(typeof ad_carousel_fail!="undefined"&&typeof ad_carousel_fail[ad]!="undefined"){callCrossAdCarousel();return;}
console.log('[call cross ad "'+ad+'" : '+(new Date()).getTime()+']');_MMC_HELPER.coverAD_elem.attr('data-ad',ad);var ad_elem=_MMC_HELPER.coverAD_elem.find('#coverAD-'+ad);if(typeof ad_elem.attr('load-src')!="undefined"){ad_elem.attr('src',ad_elem.attr('load-src'));}}
function displayCoverAd(ad){gaEventTrace('cover-'+ad,'蓋版廣告');console.log('[display cross ad "'+ad+'" : '+(new Date()).getTime()+']');var ad_elem=$('#coverAD-'+ad);ad_elem.removeClass('display-none');_MMC_HELPER.coverAD_elem.addClass('close_btn_'+_MMC.cross_ad.close_btn_position);gaEventTrace('蓋版廣告_'+_MMC.article.main_cat.term_id,'捲動_學知識_文章頁');_MMC_HELPER.fadeIn(_MMC_HELPER.coverAD_elem);callCoverAdCloseBtn();_MMC_HELPER.coverAD_elem.addClass('covered');};function callCoverAdCloseBtn(){_MMC_HELPER.coverAD_elem.find('.c-box .c-b-close_button').delay(_MMC.site.cover_ad.close_btn_showin_time).slideDown('fast');}
function callCrossAdClose(){console.log('cross ad carousel done, close');callCrossAdDfp();};function callCoverAD(){if(typeof _MMC.cross_ad=="undefined"){console.log('wait cross ad loading...');setTimeout(function(){callCoverAD();},1000);return;}
if(typeof _MMC.cross_ad.type=="undefined"){console.log('cross ad is disabled!');return;}
if(typeof window.ad_carousel=='undefined'){window.ad_carousel={ad_slot:_MMC.cross_ad.seq,ad_index:-1};}
if(typeof window.ad_carousel.loaded!="undefined"){return;}
window.ad_carousel.loaded=true;if(typeof _MMC.article.replace_ad!="undefined"&&(typeof _MMC.article.replace_ad.all!="undefined"||typeof _MMC.article.replace_ad.cover!="undefined")){callReplaceAd();return;}
if(_MMC.cross_ad.type=='dfp'){console.log('show cross ad - dfp, ad type = dfp');callCrossAdDfp();}else if(_MMC.cross_ad.type=='tamedia'){console.log('show cross ad - ad carousel, ad type = tamedia');callCrossAdCarousel();}else if(_MMC.cross_ad.type=='dfp2'||_MMC.cross_ad.type=='dfp3'){var rate=_MMC.cross_ad.type=='dfp2'?67:33;var runAdCarousel=true;runAdCarousel=(rate<=Math.floor((Math.random()*100)));if(runAdCarousel){console.log('show cross ad - ad carousel, ad type = '+_MMC.cross_ad.type);callCrossAdCarousel();}else{console.log('show cross ad - dfp, ad type = '+_MMC.cross_ad.type);callCrossAdDfp();}}else{return;}}
_MMC_HELPER.coverAD_elem.on('click','.c-box .c-b-close_button',function(){closeCoverAD();afterCoverTime=new Date().getTime()/1000;});;var getSidebar=function(){if(_MMC.site.type=='post'){getPoll();}};_MMC_HELPER.pollBox_elem.on('click','.p_b-content .p_b-c-poll .p_b-c-f-b-result',function(){var parents_elem=$(this).closest('.p_b-content');var poll_id=parents_elem.attr('data-poll-id');var poll_elem=parents_elem.find('.p_b-c-poll');var result_elem=parents_elem.find('.p_b-c-result');_MMC_HELPER.fadeOut(poll_elem);_MMC_HELPER.fadeIn(result_elem);if(!result_elem.hasClass('done')){var joiners_total=parseInt(parents_elem.attr('data-poll-joiner-total'));for(var i=0;i<result_elem.find('.p_b-c-r-fs-field').length;i++){var joiners=parseInt(result_elem.find('.p_b-c-r-fs-field:eq('+i+')').attr('data-answer-joiners'));var joiners_percent=Math.round((joiners/joiners_total)*100);result_elem.find('.p_b-c-r-fs-field:eq('+i+') .progress .progress-bar').width(joiners_percent+'%');result_elem.find('.p_b-c-r-fs-field:eq('+i+') .progress .progress-bar').html(joiners_percent+'%');}
result_elem.addClass('done');}
gaEventTrace('查看結果-'+poll_id,'媽媽大調查');});_MMC_HELPER.pollBox_elem.on('click','.p_b-content .p_b-c-result .p_b-c-r-b-poll',function(){var parents_elem=$(this).closest('.p_b-content');var poll_id=parents_elem.attr('data-poll-id');var poll_elem=parents_elem.find('.p_b-c-poll');var result_elem=parents_elem.find('.p_b-c-result');_MMC_HELPER.fadeOut(result_elem);_MMC_HELPER.fadeIn(poll_elem);gaEventTrace('結果返回投票-'+poll_id,'媽媽大調查');});_MMC_HELPER.pollBox_elem.on('click','.p_b-content .p_b-c-poll .p_b-c-f-fields input[type="radio"]',function(){$(this).closest('.p_b-c-poll').find('.p_b-c-f-button.disable').removeClass('disable');});_MMC_HELPER.pollBox_elem.on('click','.p_b-content .p_b-c-poll .p_b-c-f-fields input[type="checkbox"]',function(){var is_checked=true;var poll_fields_elem=$(this).closest('.p_b-c-f-fields');var poll_multiple=$(this).closest('.p_b-content').attr('data-poll-multiple');if(poll_fields_elem.find('input:checked').length>=poll_multiple)poll_fields_elem.find('input:not(:checked)').prop('disabled',true);else poll_fields_elem.find('input:not(:checked)').prop('disabled',false);for(var i=0;i<poll_fields_elem.find('input').length;i++){var input_check=poll_fields_elem.find('input').eq(i).prop('checked');if(input_check){is_checked=true;break;}
is_checked=false;}
if(is_checked)$(this).closest('.p_b-c-poll').find('.p_b-c-f-button.disable').removeClass('disable');else $(this).closest('.p_b-c-poll').find('.p_b-c-f-button:not(.disable)').addClass('disable');});_MMC_HELPER.pollBox_elem.on('click','.p_b-content .p_b-c-poll:not(.user_only) .p_b-c-f-button:not(.disable):not(.login) .p_b-c-f-b-submit',function(){var parents_elem=$(this).closest('.p_b-content');var poll_id=parents_elem.attr('data-poll-id');var poll_type=parents_elem.attr('data-poll-type');var poll_redirect=parents_elem.attr('data-auto-redirect');var poll_aid="";var poll_fields_elem=$(this).closest('.p_b-c-poll').find('.p_b-c-f-fields');parents_elem.attr('data-poll-joiner-total',parseInt(parents_elem.attr('data-poll-joiner-total'))+1);if(poll_type=='radio'){poll_aid=poll_fields_elem.find('input[type="radio"]:checked').val();parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid+']').addClass('voted').attr('data-answer-joiners',parseInt(parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid+']').attr('data-answer-joiners'))+1);parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid+'] .progress').attr('data-answer-joiners',parseInt(parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid+'] .progress').attr('data-answer-joiners'))+1);}else if(poll_type=='checkbox'){for(var i=0;i<poll_fields_elem.find('input[type="checkbox"]:checked').length;i++){poll_aid_temp=poll_fields_elem.find('input[type="checkbox"]:checked').eq(i).val();poll_aid+=poll_aid_temp;parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid_temp+']').addClass('voted').attr('data-answer-joiners',parseInt(parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid_temp+']').attr('data-answer-joiners'))+1);parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid_temp+'] .progress').attr('data-answer-joiners',parseInt(parents_elem.find('.p_b-c-r-fs-field[data-answer-id='+poll_aid_temp+'] .progress').attr('data-answer-joiners'))+1);poll_aid+=",";}
poll_aid=poll_aid.substr(0,poll_aid.length-1);}
$(this).closest('.p_b-content').addClass('joined');$(this).closest('.p_b-c-poll').find('.p_b-c-f-b-result').trigger('click');doPoll(poll_id,poll_aid);if(poll_redirect!=""){setTimeout(function(){location.href=poll_redirect},1500);}});var getPoll=function(){var url='/api/mama-poll?__r='+(new Date()).getTime();$.ajax({url:url,dataType:'json',success:renderPoll,error:pollErrorHandle});}
var renderPoll=function(poll){var widget_class='';var widget_title=poll.title;var poll_id=poll.id;var poll_question=poll.question;var poll_multiple=poll.multiple;var poll_joiner=poll.join;var poll_user_only=poll.user_only;var poll_image=poll.image;var poll_image_url=poll.image_url;var poll_extra_text=poll.external_title;var poll_extra_link=poll.external_url;var poll_redirect=poll.finish_url;var poll_joiners_total=0;var is_voted=_MMC_HELPER.getCookie('voted_'+poll_id);var template=_MMC_HELPER.getTemplate('poll');if(poll_user_only)
widget_class+='user_only';template=template.replace(/\[WIDGET_CLASS\]/g,widget_class);template=template.replace(/\[WIDGET_TITLE\]/g,widget_title);template=template.replace(/\[POLL_ID\]/g,poll_id);template=template.replace(/\[POLL_QUESTION\]/g,poll_question);if(typeof poll_image=="undefined"||poll_image==''){template=template.replace(/\[POLL_FEATURED_HIDE\]/g,'display: none;');template=template.replace(/\[POLL_FEATURED\]/g,'');template=template.replace(/\[POLL_FEATURED_URL\]/g,'');}else{template=template.replace(/\[POLL_FEATURED_HIDE\]/g,'');template=template.replace(/\[POLL_FEATURED\]/g,poll_image.replace(/http:/,'https:'));template=template.replace(/\[POLL_FEATURED_URL\]/g,poll_image_url);template=template.replace(/data\-src/g,'src');}
template=template.replace(/data\-href/g,'href');template=template.replace(/amigo/g,'a');if(poll_multiple>1){var poll_type='checkbox';var template_answers=_MMC_HELPER.getTemplate('poll_answer_checkbox');}else{var poll_type='radio';var template_answers=_MMC_HELPER.getTemplate('poll_answer_radio');}
template=template.replace(/\[POLL_TYPE\]/g,poll_type);template=template.replace(/\[POLL_MULTIPLE\]/g,poll_multiple);var answers="";var template_result=_MMC_HELPER.getTemplate('poll_result');var result="";for(var i=0;i<poll.answer.length;i++){var template_answers1=template_answers;var poll_answer_id=poll.answer[i].aid;var poll_answer=poll.answer[i].answer;var template_result1=template_result;var poll_answer_joiners=poll.answer[i].votes;template_answers1=template_answers1.replace(/\[POLL_ID\]/g,poll_id);template_answers1=template_answers1.replace(/\[POLL_ANSWER_ID\]/g,poll_answer_id);template_answers1=template_answers1.replace(/\[POLL_ANSWER\]/g,poll_answer);answers+=template_answers1;poll_joiners_total+=parseInt(poll.answer[i].votes);template_result1=template_result1.replace(/\[POLL_ANSWER_ID\]/g,poll_answer_id);template_result1=template_result1.replace(/\[POLL_RESULT_ANSWER\]/g,poll_answer);template_result1=template_result1.replace(/\[POLL_ANSWER_JOINERS\]/g,_MMC_HELPER.formatNumber(parseInt(poll_answer_joiners)));result+=template_result1;}
template=template.replace(/\[POLL_JOINER_TOTAL\]/g,poll_joiners_total);template=template.replace(/\[POLL_ANSWERS\]/g,answers);template=template.replace(/\[POLL_RESULT\]/g,result);template=template.replace(/\[POLL_EXTRA_LINK\]/g,poll_extra_link);template=template.replace(/\[POLL_EXTRA_TEXT\]/g,poll_extra_text);template=template.replace(/\[POLL_REDIRECT\]/g,(poll_redirect!="")?poll_redirect:"");template=template.replace(/data\-href/g,'href');template=template.replace(/amigo/g,'a');_MMC_HELPER.pollBox_elem.html(template);if($.trim(poll_extra_text)=='')_MMC_HELPER.pollBox_elem.find('.p_b-c-extra').addClass('display-none');_MMC_HELPER.pollBox_elem.removeClass('display-none');setTimeout(function(){if(is_voted!=''){if((poll_user_only&&_MMC.user.is_login)||!poll_user_only){var poll_box_content_elem=_MMC_HELPER.pollBox_elem.find('.p_b-content');poll_box_content_elem.addClass('joined');_MMC_HELPER.fadeOut(poll_box_content_elem.find('.p_b-c-poll'));_MMC_HELPER.fadeIn(poll_box_content_elem.find('.p_b-c-poll'));poll_box_content_elem.find('.p_b-c-poll .p_b-c-f-b-result').trigger('click');is_voted=decodeURIComponent(is_voted);var voted=is_voted.split(",");for(var i=0;i<voted.length;i++){poll_box_content_elem.find('.p_b-c-result .p_b-c-r-fs-field[data-answer-id='+voted[i]+']').addClass('voted');}}}
_MMC_HELPER.fadeIn(_MMC_HELPER.pollBox_elem);},10);};function pollErrorHandle(response){console.log('ERROEPOLL');console.log(response);return;}
var doPoll=function(poll_id,poll_aid){gaEventTrace('投票送出-'+poll_id,'媽媽大調查');var url='/api/mama-poll/vote';$.ajax({url:url,type:'post',data:{"poll_id":poll_id,"poll_aid":poll_aid},dataType:'json',success:donePoll,error:doPollErrorHandle});}
var donePoll=function(response){}
function doPollErrorHandle(response){console.log('ERRORDOPOLL');console.log(response);return;};$('.profile_fill-exit').on('click',function(){$(this).closest('.profile_fill-unlogin').remove();gaEventTrace('未登入, 現在還不要','會員資料補齊機制');recordProfileFillExit();});var recordProfileFillExit=function(){var expire_days=7;var d=new Date();d.setTime(d.getTime()+(expire_days*24*60*60*1000));var expires="expires="+d.toGMTString();document.cookie="fbn=1"+"; "+expires+'; domain=mamaclub.com; path=/';};$('.profile_fill-fb_login').on('click',function(){gaEventTrace('FB登入','會員資料補齊機制');_MMC_HELPER.setCookie('fb_redirect_url',location.href);var login_place=encodeURI($(this).attr('place'));var title=encodeURI(_MMC.article.post_title);document.cookie="login_place="+login_place+"; domain=mamaclub.com; path=/";document.cookie="title="+title+"; domain=mamaclub.com; path=/";document.cookie="join_from="+encodeURI(location.href)+"; domain=mamaclub.com; path=/";document.cookie="pno="+_MMC.article.post_id+"; domain=mamaclub.com; path=/";location.href=_MMC.fb_login_url
return false;});var close_profile_fill=function(){$('#profile_fill').remove();}
$('.profile_fill').on('click',function(){gaEventTrace('點空白處離開','會員資料補齊機制');close_profile_fill();});if(typeof profile_fill_login!='undefined'){if(!profile_fill_login){gaEventTrace('未登入, 曝光','會員資料補齊機制');recordProfileFillExit();}}
$('#profile_fill-iframe').width($('.profile_fill-box').width()-2).show();$(window).load(function(){$('#profile_fill').show();});if(_MMC.user.is_login!='1'){var standalone=window.navigator.standalone,userAgent=window.navigator.userAgent.toLowerCase(),safari=/safari/.test(userAgent),ios=/iphone|ipod|ipad/.test(userAgent);if(ios){if(!standalone&&safari){}else if(standalone&&!safari){}else if(!standalone&&!safari){document.cookie="fb_iphone_webview=1;domain=.mamaclub.com; path=/";};}else{};var fb_checked=$.cookie('fb_checked');if(fb_checked!=''&&typeof fb_checked!='undefined'){$('#for_iframe').html('<iframe src="https://api.mamaclub.com/api/users/login_fb_auto.php" frameborder="0" border="0" cellspacing="0" style=" border:none" width="100" height="100"></iframe>');var reload=$.cookie('reload');var logout=$.cookie('m_logout_for_autologin');if(reload=='Y'&&logout!='1'){}}else{window.fbAsyncInit=function(){FB.init({appId:'1398318470391556',xfbml:true,version:'v2.10'});FB.getLoginStatus(function(response){if(response.status==='connected'){var token=response.authResponse.accessToken;var expiresIn=response.authResponse.expiresIn;if(expiresIn>60){FB.api('/me','get',{fields:'id,email'},function(response){document.cookie="fb_email="+response.email+';domain=.mamaclub.com; path=/';document.cookie="fb_id="+response.id+';domain=.mamaclub.com; path=/';var ud=$.cookie('ud');$('#for_iframe').html('<iframe src="https://api.mamaclub.com/api/users/login_fb_auto.php?accesstoken='+token+'&expiresIn='+expiresIn+'" frameborder="0" border="0" cellspacing="0" style=" border:none" width="100" height="100"></iframe>');var reload=$.cookie('reload');var logout=$.cookie('m_logout_for_autologin');if(reload=='Y'&&logout!='1'){location.reload();}});}}
else{document.cookie='fb_checked=1;domain=.mamaclub.com; path=/';}});};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));}};_MMC_HELPER.document_elem.on('click','.call_login',function(){_MMC_HELPER.doLogin();});if(_MMC.user.is_login){_MMC_HELPER.h_hamburger_elem.on('click','.call_logout',function(){var url='/api/logout';var date=new Date();date.setTime(date.getTime()+(86400*7));document.cookie="m_logout_for_autologin=1;domain=.mamaclub.com; expire="+date.toGMTString()+"; path=/";date.setTime(date.getTime()+(3600*10));document.cookie="m_logout=1;domain=.mamaclub.com; expire="+date.toGMTString()+"; path=/";$.ajax({url:url,type:'post',dataType:'json',success:doneLogout,error:logoutErrorHandle});});var doneLogout=function(response){gaEventTrace('登出-'+_MMC.user.id,'使用者相關');location.reload();}
var logoutErrorHandle=function(response){console.log("ERRORLOGOUT");console.log(response);}}
function getOrientation(result){var view=new DataView(result);if(view.getUint16(0,false)!=0xFFD8)return 0;var length=view.byteLength,offset=2;while(offset<length){var marker=view.getUint16(offset,false);offset+=2;if(marker==0xFFE1){if(view.getUint32(offset+=2,false)!=0x45786966)return 0;var little=view.getUint16(offset+=6,false)==0x4949;offset+=view.getUint32(offset+4,little);var tags=view.getUint16(offset,little);offset+=2;for(var i=0;i<tags;i++)
if(view.getUint16(offset+(i*12),little)==0x0112)
return view.getUint16(offset+(i*12)+8,little);}
else if((marker&0xFF00)!=0xFF00)break;else offset+=view.getUint16(offset,false);}
return 0;}
var oFReader=new FileReader();var oFReaderExif=new FileReader();var oFile=null;var rotate_type=[0,0,0,180,180,270,270,90,90];var final_rotate=0;var ios_rotate=0;var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;$(function(){oFReader.onload=function(oFREvent){$("#uploadImg_preview").attr('src',oFREvent.target.result);$("#uploadImg_preview").show();if(iOS)
ios_rotate=final_rotate*-1;var degree=(-1*final_rotate+360)%360;var css_degree=(-1*(final_rotate+ios_rotate)+360)%360;$('#uploadImg').attr('data-rotate',css_degree);};oFReaderExif.onload=function(oFREvent){final_rotate=rotate_type[getOrientation(oFREvent.target.result)];$('#uploadImg').attr('data-rotate-final',final_rotate);oFReader.readAsDataURL(oFile);}
$('#uploadImg_input').change(function(){oFile=this.files[0];if(typeof oFile!='undefined'){if(oFile.type.toLowerCase().indexOf('image')>=0){oFReaderExif.readAsArrayBuffer(oFile.slice(0,64*1024));$("#uploadImg").addClass('changed');}
else
alert('上傳僅限相片格式');}});$('.uploadImg_preview_box').click(function(){$('#uploadImg_input').trigger('click');});$('.uploadImg_rotate').click(function(){final_rotate-=90;var css_degree=(-1*(final_rotate+ios_rotate)+360)%360;$('#uploadImg').attr('data-rotate',css_degree);$('#uploadImg').attr('data-rotate-final',final_rotate);});});_MMC_HELPER.window_elem.on('beforeunload',function(){_MMC_HELPER.body_elem.fadeOut()
countAfterCoverTime();_MMC_HELPER.trackReadPercent();console.log('%c!TUOMI','color:#ddd;padding-left:9px;font-weight:bolder;');});function countAfterCoverTime(){var n=new Date().getTime()/1000;var e=Math.round(n-_MMC.site.time);gaEventTrace(processTime5level(e),_MMC.site.channel+'/'+_MMC.site.type+'/停留時間');if(_MMC.site.channel=='learn'&&typeof afterCoverTime!='undefined'){var c=Math.round(n-afterCoverTime);gaEventTrace(processTime5level(c),'蓋版/停留時間');}}
function processTime5level(t){if(t<15)t=15;else if(t<30)t=30;else if(t<60)t=60;else if(t<90)t=90;else if(t<120)t=120;else if(t<150)t=150;else if(t<180)t=180;else if(t<210)t=210;else if(t<240)t=240;else if(t<270)t=270;else if(t<300)t=300;else t='x';return t;};if(_MMC.site.header.menu){getMenu();}else{renderMenu();}
if(_MMC.site.channel=='learn'){if(_MMC.site.type=='post'){getPost();}else if(_MMC.site.type=='author'){getAuthor();renderAuthorPost(_MMC.author.normal_post_list);}}
$(function(){_MMC_HELPER.finishLoading();});$(function(){$('.trace_login').click(function(){var login_place=$(this).attr('place');document.cookie="login_place="+encodeURI(login_place)+"; domain=mamaclub.com; path=/";if(typeof _MMC!='undefined'&&typeof _MMC.article.post_title!='undefined'){var title=_MMC.article.post_title;}else{var title=$('title').html();}
title=title.replace(/[',;"=\/]/g,"\\'");document.cookie="title="+encodeURI(title)+"; domain=mamaclub.com; path=/";});$('#campaign_box').click(function(){var login_place='下方浮動Bar';var title;document.cookie="login_place="+encodeURI(login_place)+"; domain=mamaclub.com; path=/";if(typeof _MMC!='undefined'&&typeof _MMC.article.post_title!='undefined'){title=_MMC.article.post_title;}else{title=$('title').html();}
document.cookie="title="+encodeURI(title)+"; domain=mamaclub.com; path=/";});});document.cookie="join_from="+encodeURI(location.href)+"; domain=mamaclub.com; path=/";if(typeof _MMC!='undefined'&&typeof _MMC.article.post_id!='undefined'){document.cookie="pno="+_MMC.article.post_id+"; domain=mamaclub.com; path=/";}