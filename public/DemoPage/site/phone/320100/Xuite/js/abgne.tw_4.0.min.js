function showPlainTxt(a){var b,c,d,e,f,g,h=getBrowserType();h=="msie"?(f=20,g=5):h=="opera"?(f=20,g=12):h=="firefox"&&(f=20,g=12);var i=document.getElementById(a);b=i.innerHTML,arrCode[a]=b;var j="l"+a;j=j.toLowerCase(),e=document.getElementById(j),d='<a href="#" onclick="javascript:hidePlainTxt(\''+a+"'); return false;\">HILITED HTML</a>",e.innerHTML=d,c=getCodeTxt(a);var k=i.parentNode.clientHeight,l=i.parentNode.clientWidth,m=k-f,n=l-g;sPlainCodeHTML='<textarea style="width:'+n+"px; height:"+m+'px;" wrap="off">'+c+"</textarea>",i.innerHTML="",i.innerHTML=sPlainCodeHTML}function hidePlainTxt(a){var b=document.getElementById(a);if(arrCode[a]=="")alert("The HTML View for this Code Box is not available");else{var c="l"+a;c=c.toLowerCase();var d=document.getElementById(c),e='<a href="#" onclick="javascript:showPlainTxt(\''+a+"'); return false;\">PLAIN TEXT</a>";d.innerHTML=e,b.innerHTML="",b.innerHTML=arrCode[a],arrCode[a]=""}}function getCodeTxt(a){var b=igEncodeHTML(getTagCode(a));b=doCleanUp(b);return b}function showCodeTxt(a){var b=igEncodeHTML(getTagCode(a));b=doCleanUp(b);var c="<html><head><title>WP-CODEBOX &raquo; Plain-Text View</title><style>body { margin:0px; padding:0px; white-space:nowrap; }</style></head><body><pre>\n",d="\n</pre><br /></body></html>";cdWin=window.open("about:blank","cdWin","toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width=700,height=400,left=35,top=85"),cdWin.document.open(),cdWin.document.write(c+b+d),cdWin.document.close()}function getTagCode(a){var b=strTrim(navigator.appName.substring(0,9));b=b.toLowerCase(),document.getElementById?oDoc=document.getElementById(a):document.all&&(oDoc=document.all[a]);var c="";if(typeof oDoc.innerText!="undefined")c=strTrim(oDoc.innerText);else{c=strTrim(oDoc.innerHTML);var d=/<\/li>/gi,e=/<\S[^>]*>/g,f=/&amp;/g,g=/&nbsp;/g,h=/&lt;/g,i=/&gt;/g;c=c.replace(d,"\n"),c=c.replace(e,""),c=c.replace(f,"&"),c=c.replace(g," "),c=c.replace(h,"<"),c=c.replace(i,">")}return c}function doCleanUp(a){a=a.replace(/(\r\n|\r|\n)/g,"\n");var b=a.split("\n");for(i=0;i<b.length;i++)b[i].substr(b[i].length-1,1)==" "&&(b[i]=b[i].substr(0,b[i].length-1)),b[i].substr(b[i].length-1,1)=="\t"&&(b[i]=b[i].substr(0,b[i].length-1));a=b.join("\n");var c=/([\n]{2,})/g,d=/([ ]{1,})\n/g,e=/([	|\t]{1,})\n/g,f=/\n([ ]{1,})\n/g,g=/\n([	|\t]{1,})\n/g,h=/ {4}/g;a=a.replace(h,"\t"),a=a.replace(f,"\n").replace(g,"\n"),a=a.replace(d,"\n").replace(e,"\n"),a=a.replace(c,"\n"),a.substr(0,1)=="\n"&&(a=a.substr(1,a.length)),a.substr(a.length-1,1)=="\n"&&(a=a.substr(0,a.length-1));return a}function igEncodeHTML(a){var b=/</g,c=/>/g;a=a.replace(b,"&lt;"),a=a.replace(c,"&gt;");return a}function strTrim(a){var b,c;b=0,c=a.length-1,a=a.split("");while(b<a.length){if(a[b]==" ")a[b]="";else break;b++}while(c>0){if(a[c]==" ")a[c]="";else break;c--}return a.join("")}function getBrowserType(){var a=navigator.userAgent.toLowerCase(),b,c=function(b){place=a.indexOf(b)+1;return place};c("konqueror")?b="konqueror":c("safari")?b="safari":c("omniweb")?b="omniweb":c("opera")?b="opera":c("webtv")?b="webtv":c("icab")?b="icab":c("msie")?b="msie":c("firefox")?b="firefox":c("compatible")||(b="nn");return b}function copycode(a){a=document.getElementById(a);if(is_ie&&a.style.display!="none"){var b=document.body.createTextRange();b.moveToElementText(a),b.scrollIntoView(),b.select(),b.execCommand("Copy"),b.collapse(!1)}}var userAgent=navigator.userAgent.toLowerCase(),is_webtv=userAgent.indexOf("webtv")!=-1,is_kon=userAgent.indexOf("konqueror")!=-1,is_mac=userAgent.indexOf("mac")!=-1,is_saf=userAgent.indexOf("applewebkit")!=-1||navigator.vendor=="Apple Computer, Inc.",is_opera=userAgent.indexOf("opera")!=-1&&opera.version(),is_moz=navigator.product=="Gecko"&&!is_saf&&userAgent.substr(userAgent.indexOf("firefox")+8,3),is_ns=userAgent.indexOf("compatible")==-1&&userAgent.indexOf("mozilla")!=-1&&!is_opera&&!is_webtv&&!is_saf,is_ie=userAgent.indexOf("msie")!=-1&&!is_opera&&!is_saf&&!is_webtv&&userAgent.substr(userAgent.indexOf("msie")+5,3);(function(a,b,c,d){"use strict";var e={elements:[],minHeight:0,offset:0,percentage:!0,testing:!1},f=a(b),g=[];a.scrollDepth=function(d){function k(b,c){a.each(b,function(b,d){a.inArray(d,g)===-1&&a(d).length&&c>=a(d).offset().top&&(h("Elements",d),g.push(d))})}function j(b,c){a.each(b,function(b,d){a.inArray(b,g)===-1&&c>=d&&(h("Percentage",b),g.push(b))})}function i(a){return{"25%":parseInt(a*.25,10),"50%":parseInt(a*.5,10),"75%":parseInt(a*.75,10),"100%":a-1}}function h(b,c){d.testing?a("#console").html(b+": "+c):_gaq.push(["_trackEvent","Scroll Depth",b,c,1,!0])}d=a.extend({},e,d);a(c).height()<d.minHeight||(h("Percentage","Baseline"),f.on("scroll.scrollDepth",function(){var e=a(c).height(),h=b.innerHeight?b.innerHeight:f.height(),l=f.scrollTop()+h,m=parseInt(h*(d.offset/100),10),n=i(e);g.length>=4+d.elements.length?f.off("scroll.scrollDepth"):(d.elements&&k(d.elements,l),d.percentage&&j(n,l))}))}})(jQuery,window,document),function(a,b,c){function g(b,c){this.element=b,this.options=a.extend({},f,c||{}),this._defaults=f,this._name=d,this._zIndex=999,this.init()}var d="abCrossBlinds",e=b.document,f={slices:9,direction:"sliceUpDown",startSlide:0,delay:5e3,speed:600,navigation:!0,hoverPause:!0};g.prototype.init=function(){function x(){w.eq((w.filter(".current").index()+1)%d.length).click()}var b=this,c=a(b.element).css("position","relative"),d=c.find("a").css("z-index",b._zIndex).hide(),e=c.width(),f=c.height(),g=e/b.options.slices,h=g+(e-g*b.options.slices),i=f/b.options.slices,j=i+(f-i*b.options.slices),k=d.eq(b.options.startSlide).show().find("img").attr("src"),l,m=!1,n=!0,o="",p="";for(var q=0;q<b.options.slices;q++){var r=q==b.options.slices-1?h:g,s=q==b.options.slices-1?j:i,t=q*g,u=q*i;b.options.direction=="sliceUpDown"?o+='<div class="abSlice slide-'+q+'" style="left:'+t+"px;top:0;width:"+r+"px;height:100%;background-image:url("+k+");background-position:-"+t+'px 0;position:absolute;background-repeat:no-repeat;"></div>':o+='<div class="abSlice slide-'+q+'" style="top:'+u+"px;left:0;height:"+s+"px;width:100%;background-image:url("+k+");background-position:0 -"+u+'px;position:absolute;background-repeat:no-repeat;"></div>'}for(var q=0;q<d.length;q++)p+='<li class="abControl control-'+(q+1)+'">'+(q+1)+"</li>";var v=c.append(o,'<ul class="abControls">'+p+"</ul>").find(".abSlice"),w=c.find(".abControls").css({zIndex:b._zIndex+2,display:b.options.navigation?"block":"none"}).find("li").eq(b.options.startSlide).addClass("current").end();w.click(function(){if(!!n){var g=a(this),h=d.eq(g.index()),i=0;if(g.hasClass("current"))return;g.addClass("current").siblings(".current").removeClass("current"),n=!1,k=h.find("img").attr("src"),v.each(function(d){var g=a(this),i=a.extend({opacity:0,zIndex:b._zIndex+1,backgroundImage:"url("+k+")"},b.options.direction=="sliceUpDown"?{top:d%2==0?f:-f}:{left:d%2==0?e:-e}),j=a.extend({opacity:1},b.options.direction=="sliceUpDown"?{top:0}:{left:0});g.css(i).stop().animate(j,b.options.speed,function(){g.css("zIndex",b._zIndex-1),d==b.options.slices-1&&(c.css("background-image","url("+k+")"),h.show().siblings("a:visible").hide(),n=!0,m||(l=setTimeout(x,b.options.delay)))})})}}),!b.options.hoverPause||c.hover(function(){m=!0,clearTimeout(l)},function(){m=!1,l=setTimeout(x,b.options.delay)}),l=setTimeout(x,b.options.delay)},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new g(this,b))})}}(jQuery,window),$(function(){$("#menu-main .current-menu-item .sub-menu").remove();var a=$(".buy-hint .hint");$(".buy-hint").hover(function(){a.show()},function(){a.hide()}).click(function(){a.toggle();return!1}),a.delay(1e3).slideDown().delay(3e3).slideUp(),$(".buy-button-link").click(function(){$(".buy-form").submit();return!1}),$(".wp_codebox_msgheader").click(function(a){a.target==this&&($(this).next(".wp_codebox").slideToggle("slow"),$(this).toggleClass("active"))}),$(".wp_codebox_hide").next(".wp_codebox").hide(),$(".wp_codebox_hide").addClass("active"),$("#totop").click(function(){$("html, body").stop().animate({scrollTop:0},600);return!1}),$("#headline .lists").abCrossBlinds({direction:"sliceLeftRight",delay:2e3});var b=$(".edit-user-tabs li");if(b.length>0){var c=this.location.hash,d;c==""?d=b.eq(b.find(".red").parent().index()).addClass("active"):(d=b.find("a[href="+c+"]").parent().addClass("active").find("a").addClass("red").end(),d.siblings().find("a").removeClass("red")),$(d.find("a").attr("href")).show().siblings().hide(),b.click(function(){var a=$(this),b=a.find("a").attr("href");a.addClass("active").find("a").addClass("red").end().siblings(".active").removeClass("active").find("a").removeClass("red"),$(b).show().siblings().hide();return!1}).find("a").focus(function(){this.blur()})}$(".abgne-tabs").each(function(){$(this).find(".tabs ul li").click(function(){$($(this).addClass("current").siblings(".current").removeClass("current").end().find("a").attr("href")).show().siblings(".content").hide();return!1})}),$(".zoom-out").each(function(){var a=$(this),b=a.find("img").css({border:"none",margin:0,padding:0}).unwrap("a"),c=b.wrap('<div class="frame"></div>').parents(".frame").css({width:b.width(),height:b.height()}).append($('<a href="'+a.attr("href")+'" class="overlay"></a>').css("opacity",0)).parents("article.clearfloat").hover(function(){b.stop(!1,!0).animate({width:"+=20px",height:"+=15px",marginTop:-5,marginLeft:-5})},function(){b.stop(!1,!0).animate({width:"-=20px",height:"-=15px",marginTop:0,marginLeft:0})})}),$.scrollDepth();var e=$(window),f=$(document),g;$(".button[data-file-id]").click(function(a){a.preventDefault(),$.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"dlownload_file_action",dd:$(this).data("file-id")},success:function(a){$("#download-modal").remove(),g=$(a).appendTo("body").css({top:(e.height()-$.browser.msie?535:515)/2,left:(e.width()-335)/2});var b=parseInt(g.css("top"),10);g.css({top:b-(b-(e.height()-($.browser.msie?535:515))/2)}),$.browser.msie&&g.find(".download-modal-bg").css("height",535)}})});var h=0,i=0,j,k,l=!1;f.mouseup(function(){l=!1}).on("mousedown","#download-modal h3",function(a){g=$("#download-modal");var b=$(this),c=g.offset();j=c.left,k=c.top,h=a.pageX,i=a.pageY,l=!0}).on("mousemove","#download-modal h3",function(a){!l||g.css({left:j+(a.pageX-h)-e.scrollLeft(),top:k+(a.pageY-i)-e.scrollTop()})}).on("click","#download-modal h3 a",function(){$(this).parents("#download-modal").remove();return!1});var m='<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>abgne.tw</title> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta name="viewport" content="width=device-width, initial-scale=1.0">',n='<script src="http://code.jquery.com/jquery-latest.pack.js"></script>',o='<script src="http://code.jquery.com/jquery-latest.pack.js"></script> <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>',p="</head> <body>",q="<script>",r="</script>";htmlClose4CM="</body> </html>",$(".abgne-codemirror").each(function(){function u(){t(m+n+o+p+(c.indexOf("javascript")>-1?q:"")+i.getValue()+(c.indexOf("javascript")>-1?r:"")+htmlClose4CM)}function t(a){h.open(),h.write(a),h.close()}var a=$(this),b=a.data("buttons")||"",c=a.data("mode")||"text/html",d=a.find("pre"),e=a.find("textarea").val(d.html()),f=a.append('<iframe class="previews" />'),g=f.find("iframe")[0],h=g.contentDocument||g.contentWindow.document,i=CodeMirror.fromTextArea(e[0],{mode:c,tabMode:"indent",indentUnit:4,lineNumbers:1}),j=e.val(),k=i.getWrapperElement(),l;d.remove(),b.indexOf("clear")>-1&&$('<div class="button clear">Clear</div>').prependTo(a),b.indexOf("reset")>-1&&$('<div class="button reset">Reset</div>').prependTo(a),b.indexOf("run")>-1&&$('<div class="button run">Run</div>').prependTo(a);var s=b.indexOf("run")==-1;i.on("change",function(){!s||(clearTimeout(l),l=setTimeout(u,300))}),a.find(".button").on("click",function(a){a.preventDefault();var b=$(this);b.hasClass("reset")?(i.setValue(j),i.clearHistory(),s||u()):b.hasClass("run")?u():b.hasClass("clear")&&t("")}),a.find(".CodeMirror").css({height:a.css("height")}),i.refresh(),setTimeout(u,300)})})